{"version":3,"file":"static/js/402.de8cef7f.chunk.js","mappings":"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","sources":["Component/AddRevenuCosts.js","Api/AxiosClient.js","Component/Footer.js","Component/NavMenu.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport api from '../Api/AxiosClient';\nimport NavMenu from './NavMenu';\nimport Footer from './Footer';\nimport '../Style/AddContract.css';\nimport { toast as toastify } from 'react-toastify';\n\nexport default function AddRevenueCosts() {\n  const [revenues, setRevenues] = useState([]);\n  const [formData, setFormData] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [departmentName, setDepartmentName] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());\n  const [selectedMonth, setSelectedMonth] = useState(new Date().getMonth() + 1);\n  const [debugInfo, setDebugInfo] = useState('');\n  \n  const toast = ({ title, description, type = 'info' }) => {\n    toastify(\n      <div>\n        <strong>{title}</strong>\n        <div>{description}</div>\n      </div>,\n      {\n        position: \"top-right\",\n        autoClose: 5000,\n        type: type\n      }\n    );\n  };\n\n  useEffect(() => {\n    const storedDept = localStorage.getItem(\"UserDepartment\");\n    console.log('Department from localStorage:', storedDept);\n    if (storedDept) {\n      setDepartmentName(storedDept);\n    } else {\n      setError('لم يتم العثور على معلومات القسم');\n    }\n  }, []);\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        setLoading(true);\n        console.log('Fetching revenues...');\n        const res = await api.get('/RevenuInfo/GetAllRevenues');\n        console.log('Raw response:', res);\n        console.log('Response data:', res.data);\n        \n        let revenueData = [];\n        if (res.data.loans) {\n          revenueData = res.data.loans;\n        } else if (res.data.revenues) {\n          revenueData = res.data.revenues;\n        } else if (Array.isArray(res.data)) {\n          revenueData = res.data;\n        }\n        \n        console.log('Processed revenue data:', revenueData);\n        setRevenues(revenueData);\n        \n      } catch (err) {\n        console.error('Error fetching revenues:', err);\n        setError('فشل تحميل البيانات');\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchData();\n  }, []);\n\n  const handleChange = (id, value) => {\n    console.log(`Changing revenue ${id} to value:`, value);\n    setFormData(prev => ({\n      ...prev,\n      [id]: value,\n    }));\n  };\n\n  const checkExistingEntry = async (revenueId, department, year, month) => {\n    try {\n      const response = await api.get('/BudgetRevenue/CheckExisting', {\n        params: {\n          revenueId: revenueId,\n          department: department,\n          year: year,\n          month: month\n        }\n      });\n      return response.data.exists;\n    } catch (error) {\n      console.error('Error checking existing entry:', error);\n      return false; // If check fails, allow submission\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    setSuccess('');\n    setDebugInfo('');\n\n    console.log('=== FORM SUBMISSION DEBUG ===');\n    console.log('Form data:', formData);\n    console.log('Department:', departmentName);\n    console.log('Year:', selectedYear, typeof selectedYear);\n    console.log('Month:', selectedMonth, typeof selectedMonth);\n    console.log('Revenues:', revenues);\n\n    try {\n      const submissions = [];\n      const duplicateEntries = [];\n      \n      for (const revenue of revenues) {\n        const cost = formData[revenue.id];\n        if (cost != null && cost !== '') {\n          // Check if entry already exists\n          const exists = await checkExistingEntry(\n            revenue.id,\n            departmentName?.trim(),\n            selectedYear,\n            selectedMonth\n          );\n\n          if (exists) {\n            duplicateEntries.push(revenue.revenueName);\n            submissions.push({\n              revenue: revenue.revenueName,\n              status: 'duplicate',\n              response: 'البيانات موجودة مسبقاً'\n            });\n            continue;\n          }\n\n          const submissionData = {\n            RevenueId: parseInt(revenue.id),\n            Department: departmentName?.trim() || '',\n            RevenueCost: parseFloat(cost),\n            Year: parseInt(selectedYear),\n            Month: parseInt(selectedMonth),\n            Notes: \"تمت الإضافة من الواجهة\",\n          };\n\n          console.log(`\\n--- Submitting for ${revenue.revenueName} ---`);\n          console.log('Submission data:', submissionData);\n\n          try {\n            const response = await api.post('/BudgetRevenue/AddRevenueCost', submissionData);\n            console.log('✅ Success:', response.data);\n\n            submissions.push({\n              revenue: revenue.revenueName,\n              status: 'success',\n              response: response.data\n            });\n\n          } catch (error) {\n            console.error('❌ Error:', error);\n\n            submissions.push({\n              revenue: revenue.revenueName,\n              status: 'error',\n              response: error.response?.data || error.message\n            });\n          }\n        }\n      }\n\n      console.log('=== SUBMISSION SUMMARY ===');\n      console.log('All submissions:', submissions);\n\n      const successful = submissions.filter(s => s.status === 'success');\n      const failed = submissions.filter(s => s.status === 'error');\n\n      // Single notification at the end based on results\n      if (successful.length > 0 && failed.length === 0) {\n        // All submissions successful\n        setSuccess(`تمت إضافة تكاليف بنجاح!`);\n        setFormData({});\n        \n        toast({\n          title: 'تمت العملية بنجاح',\n          description: `تمت إضافة جميع التكاليف بنجاح )`,\n          type: 'success'\n        });\n\n      } else if (successful.length > 0 && failed.length > 0) {\n        // Partial success\n        const errorMessages = failed.map(f => \n          `${f.revenue}: ${JSON.stringify(f.response)}`\n        ).join('\\n');\n        setError(`تمت إضافة ${successful.length} تكاليف، وفشل ${failed.length} تكاليف`);\n        setDebugInfo(`التفاصيل:\\n${errorMessages}`);\n\n        toast({\n          title: 'تمت العملية جزئياً',\n          description: `تمت إضافة ${successful.length} تكاليف بنجاح، وفشل ${failed.length} تكاليف`,\n          type: 'warning'\n        });\n\n      } else if (failed.length > 0) {\n        // All submissions failed\n        const errorMessages = failed.map(f => \n          `${f.revenue}: ${JSON.stringify(f.response)}`\n        ).join('\\n');\n        setError(`فشل في حفظ جميع التكاليف (${failed.length} عنصر)`);\n        setDebugInfo(`التفاصيل:\\n${errorMessages}`);\n\n        toast({\n          title: 'فشلت العملية',\n          description: `فشل في حفظ جميع التكاليف (${failed.length} عنصر)`,\n          type: 'error'\n        });\n\n      } else {\n        // No submissions (no data entered)\n        toast({\n          title: 'تنبيه',\n          description: 'الايرادات لهذا التاريخ مدخلة مسبقا',\n          type: 'info'\n        });\n      }\n\n    } catch (err) {\n      console.error('General error:', err);\n      setError('خطأ عام في الإرسال');\n      setDebugInfo(err.message);\n\n      toast({\n        title: 'خطأ عام',\n        description: 'حدث خطأ غير متوقع أثناء الإرسال',\n        type: 'error'\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"d-flex flex-column min-vh-100\">\n      <NavMenu />\n      <main className=\"flex-fill container my-4\">\n        <div className=\"contract-form-container\">\n          <h2>إضافة تكاليف الإيرادات لقسم {departmentName}</h2>\n\n          {error && (\n            <div className=\"alert alert-danger\">\n              <strong>{error}</strong>\n              {debugInfo && (\n                <pre className=\"mt-2\" style={{fontSize: '12px'}}>\n                  {debugInfo}\n                </pre>\n              )}\n            </div>\n          )}\n          \n          {success && <div className=\"alert alert-success\">{success}</div>}\n\n          <form onSubmit={handleSubmit} className=\"row g-3\">\n            <div className=\"col-md-3\">\n              <label className=\"form-label\">السنة</label>\n              <input\n                type=\"number\"\n                className=\"form-control\"\n                min=\"2000\"\n                max=\"2100\"\n                step=\"1\"\n                value={selectedYear}\n                onChange={(e) => {\n                  const val = parseInt(e.target.value);\n                  console.log('Year changed to:', val, typeof val);\n                  setSelectedYear(val);\n                }}\n                placeholder=\"أدخل السنة\"\n                required\n              />\n            </div>\n\n            <div className=\"col-md-3\">\n              <label className=\"form-label\">الشهر</label>\n              <select\n                className=\"form-select\"\n                value={selectedMonth}\n                onChange={(e) => {\n                  const val = parseInt(e.target.value);\n                  console.log('Month changed to:', val, typeof val);\n                  setSelectedMonth(val);\n                }}\n                required\n              >\n                {[\n                  \"يناير\", \"فبراير\", \"مارس\", \"أبريل\", \"مايو\", \"يونيو\",\n                  \"يوليو\", \"أغسطس\", \"سبتمبر\", \"أكتوبر\", \"نوفمبر\", \"ديسمبر\"\n                ].map((name, index) => (\n                  <option key={index + 1} value={index + 1}>\n                    {name}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div className=\"col-md-6\">\n              <label className=\"form-label\">القسم</label>\n              <input readOnly\n                type=\"text\"\n                className=\"form-control\"\n                value={departmentName}\n                onChange={(e) => {\n                  console.log('Department changed to:', e.target.value);\n                  setDepartmentName(e.target.value);\n                }}\n                placeholder=\"اسم القسم\"\n                required\n              />\n            </div>\n\n            <hr />\n            <h5 className=\"mt-2 text-center font-bold\">الايرادات التشغيلية</h5>\n            <div className=\"row\">\n              {revenues\n                .filter(rev => rev.revenueName !== \"الايرادات الاستثمارية\")\n                .map(rev => (\n                  <div key={rev.id} className=\"col-md-6\">\n                    <label className=\"form-label\">{rev.revenueName}</label>\n                    <input\n                      type=\"number\"\n                      className=\"form-control\"\n                      step=\"0.01\"\n                      value={formData[rev.id] || ''}\n                      onChange={(e) => {\n                        console.log(`Revenue ${rev.id} (${rev.revenueName}) changed to:`, e.target.value);\n                        handleChange(rev.id, e.target.value);\n                      }}\n                      placeholder=\"أدخل قيمة التكلفة\"\n                    />\n                  </div>\n                ))}\n            </div>\n\n            <hr />\n            <h5 className=\"mt-4 text-center font-bold\">الايرادات الاستثمارية</h5>\n            <div className=\"row\">\n              {revenues\n                .filter(rev => rev.revenueName === \"الايرادات الاستثمارية\")\n                .map(rev => (\n                  <div key={rev.id} className=\"col-md-6\">\n                    <label className=\"form-label\">{rev.revenueName}</label>\n                    <input\n                      type=\"number\"\n                      className=\"form-control\"\n                      step=\"0.01\"\n                      value={formData[rev.id] || ''}\n                      onChange={(e) => {\n                        console.log(`Revenue ${rev.id} (${rev.revenueName}) changed to:`, e.target.value);\n                        handleChange(rev.id, e.target.value);\n                      }}\n                      placeholder=\"أدخل قيمة التكلفة\"\n                    />\n                  </div>\n                ))}\n            </div>\n\n            <div className=\"col-12\">\n              <button \n                type=\"submit\" \n                className=\"btn btn-success\" \n                disabled={loading || revenues.length === 0}\n              >\n                {loading ? 'جارٍ الإضافة...' : 'حفظ التكاليف'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </main>\n      <Footer />\n    </div>\n  );\n}","import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: 'http://172.16.2.101:5109',\n  withCredentials: true\n});\n\nlet isRefreshing = false;\nlet failedQueue = [];\n\nconst processQueue = (error, token = null) => {\n  failedQueue.forEach(promise => {\n    if (error) {\n      promise.reject(error);\n    } else {\n      promise.resolve(token);\n    }\n  });\n  failedQueue = [];\n};\n\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\napi.interceptors.response.use(\n  response => response,\n  async error => {\n    const originalRequest = error.config;\n\n    if (\n      originalRequest &&\n      !originalRequest._retry &&\n      (error.message === \"Access token expired\" || (error.response && error.response.status === 401))\n    ) {\n      if (isRefreshing) {\n        return new Promise((resolve, reject) => {\n          failedQueue.push({ resolve, reject });\n        })\n          .then(token => {\n            originalRequest.headers.Authorization = `Bearer ${token}`;\n            return api(originalRequest);\n          })\n          .catch(err => Promise.reject(err));\n      }\n\n      originalRequest._retry = true;\n      isRefreshing = true;\n\n      try {\n        const response = await axios.post('http://172.16.2.101:5109/auth/refresh', {},{withCredentials : true});\n        const newAccessToken = response.data.accessToken;\n        const newRefreshToken = response.data.refreshToken;\n\n        localStorage.setItem('token', newAccessToken);\n\n        processQueue(null, newAccessToken);\n\n        originalRequest.headers.Authorization = `Bearer ${newAccessToken}`;\n        return api(originalRequest);\n      } catch (err) {\n        processQueue(err, null);\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"refreshToken\");\n        window.location.href = \"/\";\n        return Promise.reject(err);\n      } finally {\n        isRefreshing = false;\n      }\n    }\n\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n","import React from 'react';\nimport '../Style/Footer.css';\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\n\nexport default function Footer() {\n  const logoutTooltip = <Tooltip id=\"logout-tooltip\" className=\"custom-tooltip\">المبرمجين : مصطفى نجم - جيان حسين</Tooltip>;\n\n  return (\n    <OverlayTrigger placement=\"top\" className=\"custom-tooltip\"  overlay={logoutTooltip}>\n    \n    <footer className=\"page-footer\">\n      جميع الحقوق محفوظة © {new Date().getFullYear()} قسم تقنية المعلومات\n    </footer>\n    </OverlayTrigger>\n    \n  );\n}","import React, { useEffect, useState } from \"react\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport \"../Style/NavStyle.css\";\n\nexport default function NavBar() {\n  const navigate = useNavigate();\n  const [username, setUsername] = useState(\"\");\n  const [UserDepartment, setUserDepartment] = useState(\"\");\n\n\n  useEffect(() => {\n    const storedUsername = localStorage.getItem(\"username\");\n    if (storedUsername) {\n      setUsername(storedUsername);\n    }\n\n    const storedUserDepartment = localStorage.getItem(\"UserDepartment\");\n    if (storedUserDepartment) {\n      setUserDepartment(storedUserDepartment);\n    }\n  }, []);\n\n  const handleLogout = async () => {\n    try {\n      await axios.post(\n        \"http://localhost:5109/Auth/logout\",\n        {},\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        }\n      );\n\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"roles\");\n      localStorage.removeItem(\"username\");\n\n      navigate(\"/\");\n    } catch (err) {\n      console.error(\"Logout failed:\", err);\n      alert(\"فشل تسجيل الخروج، حاول مرة أخرى.\");\n    }\n  };\n\n  const renderNavItem = (to, label) => (\n    <NavLink\n      to={to}\n      className={({ isActive }) =>\n        `text-decoration-none nav-link${isActive ? \" active-link\" : \"\"}`\n      }\n      end\n      aria-current=\"page\"\n    >\n      {label}\n    </NavLink>\n  );\n\n  return (\n    <nav\n      className=\"bg-custom d-flex justify-content-between flex-row-reverse p-3\"\n      aria-label=\"Primary navigation\"\n    >\n      <div className=\"fs-4 fw-bold hlogo\">\n        <NavLink to=\"/dashboard\" className=\"nav-brand-link\">\n          نظام المنح والقروض\n          <div style={{ display: 'flex', alignItems: 'center' ,justifyContent: 'center', margin:'0 10px' }}>\n          <img src=\"/Images/bank.png\" className=\"logo-shadow-rounded\" alt=\"\" width=\"50px\" height=\"50px\" /></div>\n\n        </NavLink>\n      </div>\n\n      <ul className=\"d-flex flex-row-reverse gap-3 list-unstyled mb-0 align-items-center fw-bold\">\n        <li>{renderNavItem(\"/dashboard\", \"الصفحة الرئيسية\")}</li>\n        <li>{renderNavItem(\"/contracts\", \" العقود\")}</li>\n        <li>{renderNavItem(\"/Loans\", \" القروض\")}</li>\n        <li>{renderNavItem(\"/RevenueList\", \" الايرادات\")}</li>\n        <li>{renderNavItem(\"/AdminPanel\", \"المستخدمين\")}</li>\n        {/* <li>{renderNavItem(\"/AdminDashboard\", \"لوحة التحكم\")}</li> */}\n      </ul>\n\n      <div className=\"d-flex align-items-center gap-2\">\n        <OverlayTrigger\n          placement=\"bottom\"\n          overlay={<Tooltip id=\"logout-tooltip\">تسجيل الخروج</Tooltip>}\n        >\n          <button\n            aria-label=\"تسجيل الخروج\"\n            className=\"btn btn-outline-danger logoutB\"\n            onClick={handleLogout}\n            type=\"button\"\n          >\n                    <span className=\"navbar-username\">{username.toUpperCase() }</span>\n\n\n            <img\n              className=\"PowImg\"\n              src=\"/Images/power.gif\"\n              alt=\"Power GIF\"\n              style={{ borderRadius: \"50%\" }}\n              width=\"20\"\n              height=\"20\"\n            />\n          </button>\n        </OverlayTrigger>\n<h6 className=\"headingDep\">{UserDepartment || \"لا يوجد قسم\"}</h6>\n                  <span className=\"navbar-username\">\n                              <NavLink to=\"/ChangePassword\" className=\"nav-brand-link\">\n\n                        تغيير كلمة المرور\n                      </NavLink>\n                    </span>\n      </div>\n    </nav>\n  );\n}\n"],"names":["AddRevenueCosts","revenues","setRevenues","useState","formData","setFormData","loading","setLoading","departmentName","setDepartmentName","error","setError","success","setSuccess","selectedYear","setSelectedYear","Date","getFullYear","selectedMonth","setSelectedMonth","getMonth","debugInfo","setDebugInfo","toast","_ref","title","description","type","toastify","_jsxs","children","_jsx","position","autoClose","useEffect","storedDept","localStorage","getItem","console","log","async","res","api","get","data","revenueData","loans","Array","isArray","err","fetchData","handleChange","id","value","prev","checkExistingEntry","revenueId","department","year","month","params","exists","className","NavMenu","style","fontSize","onSubmit","e","preventDefault","submissions","duplicateEntries","revenue","cost","trim","push","revenueName","status","response","submissionData","RevenueId","parseInt","Department","RevenueCost","parseFloat","Year","Month","Notes","post","_error$response","message","successful","filter","s","failed","length","errorMessages","map","f","JSON","stringify","join","min","max","step","onChange","val","target","placeholder","required","name","index","readOnly","rev","disabled","Footer","axios","create","baseURL","withCredentials","isRefreshing","failedQueue","processQueue","token","arguments","undefined","forEach","promise","reject","resolve","interceptors","request","use","config","headers","Authorization","originalRequest","_retry","Promise","then","catch","newAccessToken","accessToken","refreshToken","setItem","removeItem","window","location","href","logoutTooltip","Tooltip","OverlayTrigger","placement","overlay","NavBar","navigate","useNavigate","username","setUsername","UserDepartment","setUserDepartment","storedUsername","storedUserDepartment","renderNavItem","to","label","NavLink","isActive","end","display","alignItems","justifyContent","margin","src","alt","width","height","onClick","alert","toUpperCase","borderRadius"],"sourceRoot":""}