{"version":3,"file":"static/js/256.5bd16b8a.chunk.js","mappings":"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","sources":["Component/EditLoan.js","Api/AxiosClient.js","Component/Footer.js","Component/NavMenu.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport api from '../Api/AxiosClient';\nimport NavMenu from './NavMenu';\nimport Footer from './Footer';\nimport '../Style/AddContract.css';\nimport { toast as toastify } from 'react-toastify';\n\nconst toast = ({ title, description }) => {\n  toastify(\n    <div>\n      <strong>{title}</strong>\n      <div>{description}</div>\n    </div>,\n    {\n      position: 'top-right',\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n    }\n  );\n};\n\nexport default function EditLoan() {\n  const navigate = useNavigate();\n  const { id } = useParams();\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [formData, setFormData] = useState({\n    LoanName: '',\n    Budget: '',\n    Loan_Type: '',\n    Currency: '',\n    BenfitDep: '',\n    Gate: '',\n    DepartmentId: '',\n    ChapterId: '',\n    ObjectId: '',\n    GateType: '',\n    InvestType: '',\n    ProjectType: '',\n    Location: '',\n    District: '',\n    Subdistrict: '',\n    GPS_X: '',\n    GPS_Y: '',\n    ProjectTarget: '',\n    ProjectDescription: '',\n    PutYear: '',\n    NoYearTOComplete: '',\n    ActualFinishYear: '',\n    SerialNo: '',\n    ChangedBudget: '',\n    FinalTotalBudget: '',\n    CustomizeAnnualId: '',\n    customizeannual: '',\n    ActualAnnualId: '',\n    actualannual: '',\n  });\n\n  const [validationErrors, setValidationErrors] = useState({});\n\n  useEffect(() => {\n    if (!id) {\n      setError('معرف القرض غير صحيح');\n      return;\n    }\n\n    const fetchLoan = async () => {\n      setIsLoading(true);\n      setError('');\n      try {\n        const response = await api.get(`/Loan/GetLoan/${id}`);\n        const data = response.data?.data || response.data;\n\n        if (!data || Object.keys(data).length === 0) {\n          throw new Error('No loan data found.');\n        }\n\n        // Convert all values to strings to prevent controlled/uncontrolled input issues\n        setFormData({\n          LoanName: String(data.loanName || ''),\n          Loan_Type: String(data.loan_Type || ''),\n          Budget: String(data.budget || ''),\n          Currency: String(data.currency || ''),\n          BenfitDep: String(data.benfitDep || ''),\n          Gate: String(data.gate || ''),\n          DepartmentId: String(data.departmentId || ''),\n          ChapterId: String(data.chapterId || ''),\n          ObjectId: String(data.objectId || ''),\n          GateType: String(data.gateType || ''),\n          InvestType: String(data.investType || ''),\n          ProjectType: String(data.projectType || ''),\n          Location: String(data.location || ''),\n          District: String(data.district || ''),\n          Subdistrict: String(data.subdistrict || ''),\n          GPS_X: String(data.gps_x || ''),\n          GPS_Y: String(data.gps_y || ''),\n          ProjectTarget: String(data.projectTarget || ''),\n          ProjectDescription: String(data.projectDescription || ''),\n          PutYear: String(data.putYear || ''),\n          NoYearTOComplete: String(data.noYearToComplete || ''),\n          ActualFinishYear: String(data.actualFinishYear || ''),\n          SerialNo: String(data.serialNo || ''),\n          ChangedBudget: String(data.changedBudget || ''),\n          FinalTotalBudget: String(data.finalTotalBudget || ''),\n          CustomizeAnnualId: String(data.customizeAnnualId || ''),\n          customizeannual: String(data.customizeannual || ''),\n          ActualAnnualId: String(data.actualAnnualId || ''),\n          actualannual: String(data.actualannual || ''),\n        });\n      } catch (err) {\n        console.error('Error fetching loan:', err);\n        setError(err.response?.data?.message || err.message || 'فشل تحميل بيانات القرض.');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchLoan();\n  }, [id]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n    \n    // Clear validation error for this field\n    if (validationErrors[name]) {\n      setValidationErrors((prev) => ({ ...prev, [name]: '' }));\n    }\n    \n    // Clear success message when user starts editing\n    if (success) {\n      setSuccess('');\n    }\n  };\n\n  const validateForm = () => {\n    const errors = {};\n    \n    if (!formData.LoanName.trim()) {\n      errors.LoanName = 'اسم القرض مطلوب';\n    }\n    \n    if (!formData.Loan_Type) {\n      errors.Loan_Type = 'نوع القرض مطلوب';\n    }\n    \n    if (!formData.Budget || isNaN(Number(formData.Budget)) || Number(formData.Budget) <= 0) {\n      errors.Budget = 'الميزانية يجب أن تكون رقم صحيح أكبر من صفر';\n    }\n    \n    if (!formData.Currency.trim()) {\n      errors.Currency = 'العملة مطلوبة';\n    }\n    \n    // Validate numeric fields if they have values\n    const numericFields = ['Gate', 'DepartmentId', 'ChapterId', 'ObjectId', 'GateType', 'InvestType', 'SerialNo', 'PutYear', 'NoYearTOComplete', 'ActualFinishYear'];\n    numericFields.forEach(field => {\n      if (formData[field] && (isNaN(Number(formData[field])) || Number(formData[field]) < 0)) {\n        errors[field] = `${field} يجب أن يكون رقم صحيح`;\n      }\n    });\n    \n    // Validate year fields\n    const currentYear = new Date().getFullYear();\n    if (formData.PutYear && (Number(formData.PutYear) < 1900 || Number(formData.PutYear) > currentYear + 10)) {\n      errors.PutYear = 'سنة الإدراج غير صحيحة';\n    }\n    \n    if (formData.ActualFinishYear && (Number(formData.ActualFinishYear) < 1900 || Number(formData.ActualFinishYear) > currentYear + 50)) {\n      errors.ActualFinishYear = 'سنة الانتهاء الفعلية غير صحيحة';\n    }\n    \n    setValidationErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n\n    if (!validateForm()) {\n      setError('يرجى تصحيح الأخطاء في النموذج.');\n      return;\n    }\n\n    setIsSaving(true);\n    try {\n      // Prepare data for API - convert numeric fields back to numbers and handle enums\n      const dataToSubmit = {\n        LoanName: formData.LoanName.trim(),\n        Loan_Type: Number(formData.Loan_Type),\n        Budget: Number(formData.Budget),\n        Currency: formData.Currency.trim(),\n        BenfitDep: formData.BenfitDep.trim() || null,\n        Gate: formData.Gate ? Number(formData.Gate) : null,\n        DepartmentId: formData.DepartmentId ? Number(formData.DepartmentId) : null,\n        ChapterId: formData.ChapterId ? Number(formData.ChapterId) : null,\n        ObjectId: formData.ObjectId ? Number(formData.ObjectId) : null,\n        GateType: formData.GateType ? Number(formData.GateType) : null,\n        InvestType: formData.InvestType ? Number(formData.InvestType) : null,\n        ProjectType: formData.ProjectType ? Number(formData.ProjectType) : null,\n        Location: formData.Location.trim() || null,\n        District: formData.District.trim() || null,\n        Subdistrict: formData.Subdistrict.trim() || null,\n        GPS_X: formData.GPS_X ? Number(formData.GPS_X) : null,\n        GPS_Y: formData.GPS_Y ? Number(formData.GPS_Y) : null,\n        ProjectTarget: formData.ProjectTarget.trim() || null,\n        ProjectDescription: formData.ProjectDescription.trim() || null,\n        PutYear: formData.PutYear ? Number(formData.PutYear) : null,\n        NoYearTOComplete: formData.NoYearTOComplete ? Number(formData.NoYearTOComplete) : null,\n        ActualFinishYear: formData.ActualFinishYear ? Number(formData.ActualFinishYear) : null,\n        SerialNo: formData.SerialNo ? Number(formData.SerialNo) : null,\n        ChangedBudget: formData.ChangedBudget ? Number(formData.ChangedBudget) : null,\n        FinalTotalBudget: formData.FinalTotalBudget ? Number(formData.FinalTotalBudget) : null,\n        CustomizeAnnualId: formData.CustomizeAnnualId ? Number(formData.CustomizeAnnualId) : null,\n        customizeannual: formData.customizeannual.trim() || null,\n        ActualAnnualId: formData.ActualAnnualId ? Number(formData.ActualAnnualId) : null,\n        actualannual: formData.actualannual.trim() || null,\n      };\n\n      // Remove null/empty values to avoid serialization issues\n      Object.keys(dataToSubmit).forEach(key => {\n        if (dataToSubmit[key] === null || dataToSubmit[key] === '' || dataToSubmit[key] === undefined) {\n          delete dataToSubmit[key];\n        }\n      });\n\n      // Debug: Log the data being sent\n      console.log('Data being sent to API:', JSON.stringify(dataToSubmit, null, 2));\n\n      await api.put(`/Loan/UpdateLoan/${id}`, dataToSubmit);\n      \n      toast({ \n        title: 'تم التعديل بنجاح', \n        description: `تم تحديث القرض: ${formData.LoanName}` \n      });\n      \n      setSuccess('تم تحديث بيانات القرض بنجاح.');\n      \n      // Optional: Navigate back after successful update\n       setTimeout(() => navigate(-1), 2000);\n      \n    } catch (err) {\n      console.error('Error updating loan:', err);\n      console.error('Error response:', err.response?.data);\n      \n      let errorMessage = 'حدث خطأ أثناء حفظ القرض.';\n      \n      if (err.response?.data) {\n        const errorData = err.response.data;\n        \n        // Handle ASP.NET Core validation problem details\n        if (errorData.errors) {\n          const validationErrors = [];\n          Object.keys(errorData.errors).forEach(field => {\n            const fieldErrors = errorData.errors[field];\n            validationErrors.push(`${field}: ${fieldErrors.join(', ')}`);\n          });\n          errorMessage = `أخطاء التحقق: ${validationErrors.join(' | ')}`;\n        } else if (errorData.title) {\n          errorMessage = errorData.title;\n        } else if (errorData.message) {\n          errorMessage = errorData.message;\n        } else if (errorData.error) {\n          errorMessage = errorData.error;\n        }\n      }\n      \n      setError(errorMessage);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleCancel = () => {\n    if (window.confirm('هل أنت متأكد من الإلغاء؟ ستفقد جميع التغييرات غير المحفوظة.')) {\n      navigate(-1);\n    }\n  };\n\n  const renderInput = (label, name, type = 'text', required = false) => (\n    <div className=\"col-md-4 mb-3\">\n      <label className=\"form-label\">\n        {label} {required && <span className=\"text-danger\">*</span>}\n      </label>\n      <input\n        type={type}\n        name={name}\n        className={`form-control ${validationErrors[name] ? 'is-invalid' : ''}`}\n        value={formData[name] || ''}\n        onChange={handleChange}\n        required={required}\n        disabled={isSaving}\n      />\n      {validationErrors[name] && (\n        <div className=\"invalid-feedback\">{validationErrors[name]}</div>\n      )}\n    </div>\n  );\n\n  if (isLoading) {\n    return (\n      <div className=\"d-flex flex-column min-vh-100\">\n        <NavMenu />\n        <main className=\"flex-fill container my-4 text-center\">\n          <div className=\"spinner-border text-primary\" role=\"status\">\n            <span className=\"visually-hidden\">جاري التحميل...</span>\n          </div>\n          <p className=\"mt-3\">جاري تحميل بيانات القرض...</p>\n        </main>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"d-flex flex-column min-vh-100\">\n      <NavMenu />\n      <main className=\"flex-fill container my-4\" dir=\"rtl\">\n        <div className=\"card\">\n          <div className=\"card-header d-flex justify-content-between align-items-center\">\n            <h2>تعديل قرض</h2>\n            <button \n              className=\"btn btn-outline-secondary\" \n              onClick={handleCancel}\n              disabled={isSaving}\n            >\n              عودة\n            </button>\n          </div>\n          <div className=\"card-body\">\n            {error && (\n              <div className=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\n                {error}\n                <button \n                  type=\"button\" \n                  className=\"btn-close\" \n                  onClick={() => setError('')}\n                  aria-label=\"Close\"\n                ></button>\n              </div>\n            )}\n            \n            {success && (\n              <div className=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\n                {success}\n                <button \n                  type=\"button\" \n                  className=\"btn-close\" \n                  onClick={() => setSuccess('')}\n                  aria-label=\"Close\"\n                ></button>\n              </div>\n            )}\n\n            <form onSubmit={handleSubmit} className=\"row g-3\">\n              {renderInput('اسم القرض', 'LoanName', 'text', true)}\n              \n              <div className=\"col-md-4 mb-3\">\n                <label className=\"form-label\">\n                  نوع القرض <span className=\"text-danger\">*</span>\n                </label>\n                <select\n                  name=\"Loan_Type\"\n                  className={`form-select ${validationErrors.Loan_Type ? 'is-invalid' : ''}`}\n                  value={formData.Loan_Type}\n                  onChange={handleChange}\n                  required\n                  disabled={isSaving}\n                >\n                  <option value=\"\">اختر النوع</option>\n                  <option value=\"1\">قرض خارجي</option>\n                  <option value=\"2\">قرض داخلي</option>\n                  <option value=\"3\">منحة</option>\n                </select>\n                {validationErrors.Loan_Type && (\n                  <div className=\"invalid-feedback\">{validationErrors.Loan_Type}</div>\n                )}\n              </div>\n              \n              {renderInput('الميزانية', 'Budget', 'number', true)}\n              {renderInput('العملة', 'Currency', 'text', true)}\n              {renderInput('الجهة المستفيدة من المشروع', 'BenfitDep')}\n              {renderInput('الباب', 'Gate', 'number')}\n              {renderInput('القسم', 'DepartmentId', 'number')}\n              {renderInput('الفصل', 'ChapterId', 'number')}\n              {renderInput('المادة', 'ObjectId', 'number')}\n              {renderInput('النوع', 'GateType', 'number')}\n              {renderInput('نوع الاستثمار', 'InvestType', 'number')}\n              \n              <div className=\"col-md-4 mb-3\">\n                <label className=\"form-label\">نوع المشروع</label>\n                <select\n                  name=\"ProjectType\"\n                  className=\"form-select\"\n                  value={formData.ProjectType}\n                  onChange={handleChange}\n                  disabled={isSaving}\n                >\n                  <option value={0}>-- اختر نوع المشروع --</option>\n                <option value={1}>مستمر</option>\n                <option value={2}>جديد</option>\n                <option value={3}>مستحدث</option>\n                <option value={4}>إعادة ادراج</option>\n                </select>\n              </div>\n              \n              {renderInput('التسلسل', 'SerialNo', 'number')}\n              {renderInput('الموقع', 'Location','text',true)}\n              {renderInput('الحي', 'District')}\n              {renderInput('البلدية', 'Subdistrict')}\n              {renderInput('GPS_X', 'GPS_X', 'number')}\n              {renderInput('GPS_Y', 'GPS_Y', 'number')}\n\n              <div className=\"col-md-6 mb-3\">\n                <label className=\"form-label\">الهدف من المشروع</label>\n                <textarea\n                  name=\"ProjectTarget\"\n                  className=\"form-control\"\n                  value={formData.ProjectTarget || ''}\n                  onChange={handleChange}\n                  rows=\"3\"\n                  disabled={isSaving}\n                />\n              </div>\n              \n              <div className=\"col-md-6 mb-3\">\n                <label className=\"form-label\">وصف المشروع</label>\n                <textarea\n                  name=\"ProjectDescription\"\n                  className=\"form-control\"\n                  value={formData.ProjectDescription || ''}\n                  onChange={handleChange}\n                  rows=\"3\"\n                  disabled={isSaving}\n                />\n              </div>\n              \n              {renderInput('سنة الإدراج', 'PutYear', 'number')}\n              {renderInput('عدد السنوات التنفيذ للمشروع', 'NoYearTOComplete', 'number')}\n              {renderInput('تاريخ الانجاز الفعلي للمشروع', 'ActualFinishYear', 'number')}\n              {renderInput('مقدار التغيير في الكلفة الكلية للمشروع', 'ChangedBudget', 'number')}\n              {renderInput('إجمالي الميزانية النهائية', 'FinalTotalBudget', 'number')}\n              {renderInput('معرف السنة المخصصة', 'CustomizeAnnualId', 'number')}\n              {renderInput('السنة المخصصة', 'customizeannual')}\n              {renderInput('معرف السنة الفعلية', 'ActualAnnualId', 'number')}\n              {renderInput('السنة الفعلية', 'actualannual')}\n\n              <div className=\"col-12 d-flex justify-content-end gap-2\">\n                <button \n                  type=\"button\" \n                  className=\"btn btn-secondary\" \n                  onClick={handleCancel}\n                  disabled={isSaving}\n                >\n                  إلغاء\n                </button>\n                <button \n                  type=\"submit\" \n                  className=\"btn btn-primary\" \n                  disabled={isSaving}\n                  style={{width: '100%'}}\n                >\n                  {isSaving ? (\n                    <>\n                      <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\"></span>\n                      جارٍ الحفظ...\n                    </>\n                  ) : (\n                    'حفظ التعديلات'\n                  )}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </main>\n      <Footer />\n    </div>\n  );\n}","import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: 'http://localhost:5109',\n  withCredentials: true\n});\n\nlet isRefreshing = false;\nlet failedQueue = [];\n\nconst processQueue = (error, token = null) => {\n  failedQueue.forEach(promise => {\n    if (error) {\n      promise.reject(error);\n    } else {\n      promise.resolve(token);\n    }\n  });\n  failedQueue = [];\n};\n\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\napi.interceptors.response.use(\n  response => response,\n  async error => {\n    const originalRequest = error.config;\n\n    if (\n      originalRequest &&\n      !originalRequest._retry &&\n      (error.message === \"Access token expired\" || (error.response && error.response.status === 401))\n    ) {\n      if (isRefreshing) {\n        return new Promise((resolve, reject) => {\n          failedQueue.push({ resolve, reject });\n        })\n          .then(token => {\n            originalRequest.headers.Authorization = `Bearer ${token}`;\n            return api(originalRequest);\n          })\n          .catch(err => Promise.reject(err));\n      }\n\n      originalRequest._retry = true;\n      isRefreshing = true;\n\n      try {\n        const response = await axios.post('http://localhost:5109/auth/refresh', {},{withCredentials : true});\n        const newAccessToken = response.data.accessToken;\n        const newRefreshToken = response.data.refreshToken;\n\n        localStorage.setItem('token', newAccessToken);\n\n        processQueue(null, newAccessToken);\n\n        originalRequest.headers.Authorization = `Bearer ${newAccessToken}`;\n        return api(originalRequest);\n      } catch (err) {\n        processQueue(err, null);\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"refreshToken\");\n        window.location.href = \"/\";\n        return Promise.reject(err);\n      } finally {\n        isRefreshing = false;\n      }\n    }\n\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n","import React from 'react';\nimport '../Style/Footer.css';\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\n\nexport default function Footer() {\n  const logoutTooltip = <Tooltip id=\"logout-tooltip\" className=\"custom-tooltip\">المبرمجين : مصطفى نجم - جيان حسين</Tooltip>;\n\n  return (\n    <OverlayTrigger placement=\"top\" className=\"custom-tooltip\"  overlay={logoutTooltip}>\n    \n    <footer className=\"page-footer\">\n      جميع الحقوق محفوظة © {new Date().getFullYear()} قسم تقنية المعلومات\n    </footer>\n    </OverlayTrigger>\n    \n  );\n}","import React, { useEffect, useState } from \"react\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport \"../Style/NavStyle.css\";\n\nexport default function NavBar() {\n  const navigate = useNavigate();\n  const [username, setUsername] = useState(\"\");\n  const [UserDepartment, setUserDepartment] = useState(\"\");\n\n\n  useEffect(() => {\n    const storedUsername = localStorage.getItem(\"username\");\n    if (storedUsername) {\n      setUsername(storedUsername);\n    }\n\n    const storedUserDepartment = localStorage.getItem(\"UserDepartment\");\n    if (storedUserDepartment) {\n      setUserDepartment(storedUserDepartment);\n    }\n  }, []);\n\n  const handleLogout = async () => {\n    try {\n      await axios.post(\n        \"http://localhost:5109/Auth/logout\",\n        {},\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        }\n      );\n\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"roles\");\n      localStorage.removeItem(\"username\");\n\n      navigate(\"/\");\n    } catch (err) {\n      console.error(\"Logout failed:\", err);\n      alert(\"فشل تسجيل الخروج، حاول مرة أخرى.\");\n    }\n  };\n\n  const renderNavItem = (to, label) => (\n    <NavLink\n      to={to}\n      className={({ isActive }) =>\n        `text-decoration-none nav-link${isActive ? \" active-link\" : \"\"}`\n      }\n      end\n      aria-current=\"page\"\n    >\n      {label}\n    </NavLink>\n  );\n\n  return (\n    <nav\n      className=\"bg-custom d-flex justify-content-between flex-row-reverse p-3\"\n      aria-label=\"Primary navigation\"\n    >\n      <div className=\"fs-4 fw-bold hlogo\">\n        <NavLink to=\"/dashboard\" className=\"nav-brand-link\">\n          نظام المنح والقروض\n          <div style={{ display: 'flex', alignItems: 'center' ,justifyContent: 'center', margin:'0 10px' }}>\n          <img src=\"/Images/bank.png\" className=\"logo-shadow-rounded\" alt=\"\" width=\"50px\" height=\"50px\" /></div>\n\n        </NavLink>\n      </div>\n\n      <ul className=\"d-flex flex-row-reverse gap-3 list-unstyled mb-0 align-items-center fw-bold\">\n        <li>{renderNavItem(\"/dashboard\", \"الصفحة الرئيسية\")}</li>\n        <li>{renderNavItem(\"/contracts\", \" العقود\")}</li>\n        <li>{renderNavItem(\"/Loans\", \" القروض\")}</li>\n        <li>{renderNavItem(\"/RevenueList\", \" الايرادات\")}</li>\n        <li>{renderNavItem(\"/AdminPanel\", \"المستخدمين\")}</li>\n        {/* <li>{renderNavItem(\"/AdminDashboard\", \"لوحة التحكم\")}</li> */}\n      </ul>\n\n      <div className=\"d-flex align-items-center gap-2\">\n        <OverlayTrigger\n          placement=\"bottom\"\n          overlay={<Tooltip id=\"logout-tooltip\">تسجيل الخروج</Tooltip>}\n        >\n          <button\n            aria-label=\"تسجيل الخروج\"\n            className=\"btn btn-outline-danger logoutB\"\n            onClick={handleLogout}\n            type=\"button\"\n          >\n                    <span className=\"navbar-username\">{username.toUpperCase() }</span>\n\n\n            <img\n              className=\"PowImg\"\n              src=\"/Images/power.gif\"\n              alt=\"Power GIF\"\n              style={{ borderRadius: \"50%\" }}\n              width=\"20\"\n              height=\"20\"\n            />\n          </button>\n        </OverlayTrigger>\n<h6 className=\"headingDep\">{UserDepartment || \"لا يوجد قسم\"}</h6>\n                  <span className=\"navbar-username\">\n                              <NavLink to=\"/ChangePassword\" className=\"nav-brand-link\">\n\n                        تغيير كلمة المرور\n                      </NavLink>\n                    </span>\n      </div>\n    </nav>\n  );\n}\n"],"names":["toast","_ref","title","description","toastify","_jsxs","children","_jsx","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","EditLoan","navigate","useNavigate","id","useParams","isLoading","setIsLoading","useState","isSaving","setIsSaving","error","setError","success","setSuccess","formData","setFormData","LoanName","Budget","Loan_Type","Currency","BenfitDep","Gate","DepartmentId","ChapterId","ObjectId","GateType","InvestType","ProjectType","Location","District","Subdistrict","GPS_X","GPS_Y","ProjectTarget","ProjectDescription","PutYear","NoYearTOComplete","ActualFinishYear","SerialNo","ChangedBudget","FinalTotalBudget","CustomizeAnnualId","customizeannual","ActualAnnualId","actualannual","validationErrors","setValidationErrors","useEffect","async","_response$data","response","api","get","data","Object","keys","length","Error","String","loanName","loan_Type","budget","currency","benfitDep","gate","departmentId","chapterId","objectId","gateType","investType","projectType","location","district","subdistrict","gps_x","gps_y","projectTarget","projectDescription","putYear","noYearToComplete","actualFinishYear","serialNo","changedBudget","finalTotalBudget","customizeAnnualId","actualAnnualId","err","_err$response","_err$response$data","console","message","fetchLoan","handleChange","e","name","value","target","prev","handleCancel","window","confirm","renderInput","label","type","arguments","undefined","required","className","onChange","disabled","NavMenu","role","Footer","dir","onClick","onSubmit","preventDefault","validateForm","errors","trim","isNaN","Number","forEach","field","currentYear","Date","getFullYear","dataToSubmit","key","log","JSON","stringify","put","setTimeout","_err$response2","_err$response3","errorMessage","errorData","fieldErrors","push","join","rows","style","width","_Fragment","axios","create","baseURL","withCredentials","isRefreshing","failedQueue","processQueue","token","promise","reject","resolve","interceptors","request","use","config","localStorage","getItem","headers","Authorization","originalRequest","_retry","status","Promise","then","catch","post","newAccessToken","accessToken","refreshToken","setItem","removeItem","href","logoutTooltip","Tooltip","OverlayTrigger","placement","overlay","NavBar","username","setUsername","UserDepartment","setUserDepartment","storedUsername","storedUserDepartment","renderNavItem","to","NavLink","isActive","end","display","alignItems","justifyContent","margin","src","alt","height","alert","toUpperCase","borderRadius"],"sourceRoot":""}