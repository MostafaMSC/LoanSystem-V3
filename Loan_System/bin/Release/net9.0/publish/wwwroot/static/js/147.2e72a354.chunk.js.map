{"version":3,"file":"static/js/147.2e72a354.chunk.js","mappings":"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","sources":["Api/AxiosClient.js","Component/Footer.js","Component/NavMenu.js","Component/RevenueCostReport.js"],"sourcesContent":["import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: 'http://192.168.0.106',\n  withCredentials: true\n});\n\nlet isRefreshing = false;\nlet failedQueue = [];\n\nconst processQueue = (error, token = null) => {\n  failedQueue.forEach(promise => {\n    if (error) {\n      promise.reject(error);\n    } else {\n      promise.resolve(token);\n    }\n  });\n  failedQueue = [];\n};\n\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\napi.interceptors.response.use(\n  response => response,\n  async error => {\n    const originalRequest = error.config;\n\n    if (\n      originalRequest &&\n      !originalRequest._retry &&\n      (error.message === \"Access token expired\" || (error.response && error.response.status === 401))\n    ) {\n      if (isRefreshing) {\n        return new Promise((resolve, reject) => {\n          failedQueue.push({ resolve, reject });\n        })\n          .then(token => {\n            originalRequest.headers.Authorization = `Bearer ${token}`;\n            return api(originalRequest);\n          })\n          .catch(err => Promise.reject(err));\n      }\n\n      originalRequest._retry = true;\n      isRefreshing = true;\n\n      try {\n        const response = await axios.post('http://192.168.0.106/auth/refresh', {},{withCredentials : true});\n        const newAccessToken = response.data.accessToken;\n        const newRefreshToken = response.data.refreshToken;\n\n        localStorage.setItem('token', newAccessToken);\n\n        processQueue(null, newAccessToken);\n\n        originalRequest.headers.Authorization = `Bearer ${newAccessToken}`;\n        return api(originalRequest);\n      } catch (err) {\n        processQueue(err, null);\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"refreshToken\");\n        window.location.href = \"/\";\n        return Promise.reject(err);\n      } finally {\n        isRefreshing = false;\n      }\n    }\n\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n","import React from 'react';\nimport '../Style/Footer.css';\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\n\nexport default function Footer() {\n  const logoutTooltip = <Tooltip id=\"logout-tooltip\" className=\"custom-tooltip\">المبرمجين : مصطفى نجم - جيان حسين</Tooltip>;\n\n  return (\n    <OverlayTrigger placement=\"top\" className=\"custom-tooltip\"  overlay={logoutTooltip}>\n    \n    <footer className=\"page-footer\">\n      جميع الحقوق محفوظة © {new Date().getFullYear()} قسم تقنية المعلومات\n    </footer>\n    </OverlayTrigger>\n    \n  );\n}","import React, { useEffect, useState } from \"react\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport \"../Style/NavStyle.css\";\n\nexport default function NavBar() {\n  const navigate = useNavigate();\n  const [username, setUsername] = useState(\"\");\n  const [UserDepartment, setUserDepartment] = useState(\"\");\n\n\n  useEffect(() => {\n    const storedUsername = localStorage.getItem(\"username\");\n    if (storedUsername) {\n      setUsername(storedUsername);\n    }\n\n    const storedUserDepartment = localStorage.getItem(\"UserDepartment\");\n    if (storedUserDepartment) {\n      setUserDepartment(storedUserDepartment);\n    }\n  }, []);\n\n  const handleLogout = async () => {\n    try {\n      await axios.post(\n        \"http://localhost:5109/Auth/logout\",\n        {},\n        {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        }\n      );\n\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"roles\");\n      localStorage.removeItem(\"username\");\n\n      navigate(\"/\");\n    } catch (err) {\n      console.error(\"Logout failed:\", err);\n      alert(\"فشل تسجيل الخروج، حاول مرة أخرى.\");\n    }\n  };\n\n  const renderNavItem = (to, label) => (\n    <NavLink\n      to={to}\n      className={({ isActive }) =>\n        `text-decoration-none nav-link${isActive ? \" active-link\" : \"\"}`\n      }\n      end\n      aria-current=\"page\"\n    >\n      {label}\n    </NavLink>\n  );\n\n  return (\n    <nav\n      className=\"bg-custom d-flex justify-content-between flex-row-reverse p-3\"\n      aria-label=\"Primary navigation\"\n    >\n      <div className=\"fs-4 fw-bold hlogo\">\n        <NavLink to=\"/dashboard\" className=\"nav-brand-link\">\n          نظام المنح والقروض\n          <div style={{ display: 'flex', alignItems: 'center' ,justifyContent: 'center', margin:'0 10px' }}>\n          <img src=\"/Images/bank.png\" className=\"logo-shadow-rounded\" alt=\"\" width=\"50px\" height=\"50px\" /></div>\n\n        </NavLink>\n      </div>\n\n      <ul className=\"d-flex flex-row-reverse gap-3 list-unstyled mb-0 align-items-center fw-bold\">\n        <li>{renderNavItem(\"/dashboard\", \"الصفحة الرئيسية\")}</li>\n        <li>{renderNavItem(\"/contracts\", \" العقود\")}</li>\n        <li>{renderNavItem(\"/Loans\", \" القروض\")}</li>\n        <li>{renderNavItem(\"/RevenueList\", \" الايرادات\")}</li>\n        <li>{renderNavItem(\"/AdminPanel\", \"المستخدمين\")}</li>\n        {/* <li>{renderNavItem(\"/AdminDashboard\", \"لوحة التحكم\")}</li> */}\n      </ul>\n\n      <div className=\"d-flex align-items-center gap-2\">\n        <OverlayTrigger\n          placement=\"bottom\"\n          overlay={<Tooltip id=\"logout-tooltip\">تسجيل الخروج</Tooltip>}\n        >\n          <button\n            aria-label=\"تسجيل الخروج\"\n            className=\"btn btn-outline-danger logoutB\"\n            onClick={handleLogout}\n            type=\"button\"\n          >\n                    <span className=\"navbar-username\">{username.toUpperCase() }</span>\n\n\n            <img\n              className=\"PowImg\"\n              src=\"/Images/power.gif\"\n              alt=\"Power GIF\"\n              style={{ borderRadius: \"50%\" }}\n              width=\"20\"\n              height=\"20\"\n            />\n          </button>\n        </OverlayTrigger>\n<h6 className=\"headingDep\">{UserDepartment || \"لا يوجد قسم\"}</h6>\n                  <span className=\"navbar-username\">\n                              <NavLink to=\"/ChangePassword\" className=\"nav-brand-link\">\n\n                        تغيير كلمة المرور\n                      </NavLink>\n                    </span>\n      </div>\n    </nav>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport api from '../Api/AxiosClient';\nimport '../Style/ContractsList.css';\nimport NavMenu from './NavMenu';\nimport Footer from './Footer';\nimport * as XLSX from 'xlsx';\nimport { saveAs } from 'file-saver';\n\nexport default function BudgetRevenueReport() {\n  const [department, setDepartment] = useState('');\n  const [selectedYear, setSelectedYear] = useState('');\n  const [selectedMonth, setSelectedMonth] = useState('');\n  const [revenues, setRevenues] = useState([]);\n  const [Privouserevenues, setPrivouseRevenues] = useState([]);\n\n  const [allDepartments, setAllDepartments] = useState([]);\n  const [allRevenueInfo, setAllRevenueInfo] = useState([]);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [departmentError, setDepartmentError] = useState('');\n\n  useEffect(() => {\n    const today = new Date();\n    setSelectedMonth(today.getMonth() + 1);\n    setSelectedYear(today.getFullYear());\n\n    const storedDept = localStorage.getItem(\"UserDepartment\");\n    if (storedDept) {\n      setDepartment(storedDept);\n    }\n\n    fetchAllDepartments();\n    fetchAllRevenueInfo();\n  }, []);\n    const printReport = () => {\n    const printArea = document.getElementById('print-area');\n    if (!printArea) return;\n\n    const printWindow = window.open('', '_blank');\n    const printContent = printArea.innerHTML;\n    \n    printWindow.document.write(`\n      <html>\n        <head>\n          <title>تقرير الإيرادات</title>\n          <style>\n            body { font-family: Arial, sans-serif; direction: rtl; margin: 20px; }\n            table { border-collapse: collapse; width: 100%; margin-bottom: 20px; }\n            th, td { border: 1px solid #ddd; padding: 8px; text-align: center; font-size: 12px; }\n            th { background-color: #f2f2f2; font-weight: bold; }\n            .table-dark th { background-color: #343a40; color: white; }\n            .table-warning { background-color: #fff3cd; }\n            .table-success { background-color: #d1edff; }\n            .table-info { background-color: #d1ecf1; }\n            .badge { padding: 4px 8px; border-radius: 4px; font-size: 10px; }\n            .bg-success { background-color: #28a745; color: white; }\n            .bg-warning { background-color: #ffc107; color: black; }\n            .bg-info { background-color: #17a2b8; color: white; }\n            .bg-secondary { background-color: #6c757d; color: white; }\n            .text-dark { color: black; }\n            @media print {\n              body { margin: 0; }\n              table { page-break-inside: avoid; }\n            }\n          </style>\n        </head>\n        <body>\n          <h2 style=\"text-align: center; margin-bottom: 30px;\">وزارة الموارد المائية / الايرادات لشهر ${getMonthName(selectedMonth)}</h2>\n\n          ${printContent}\n        </body>\n      </html>\n    `);\n    \n    printWindow.document.close();\n    printWindow.print();\n  };\n  const fetchAllDepartments = async () => {\n    try {\n      setDepartmentError('');\n      const res = await api.get('/Department/GetAllDep');\n      \n      console.log('Full API Response:', res.data);\n      \n      let departments = [];\n      \n      if (Array.isArray(res.data)) {\n        departments = res.data\n          .map(dept => dept.DepartmentName || dept.departmentName || dept.name || dept)\n          .filter(name => name && typeof name === 'string' && name.trim() !== '');\n      } else if (res.data && res.data.Departments) {\n        departments = res.data.Departments\n          .map(dept => dept.DepartmentName || dept.departmentName || dept.name || dept)\n          .filter(name => name && typeof name === 'string' && name.trim() !== '');\n      } else if (res.data && res.data.Loans) {\n        departments = res.data.Loans\n          .map(dept => dept.DepartmentName || dept.departmentName || dept.name || dept)\n          .filter(name => name && typeof name === 'string' && name.trim() !== '');\n      } else if (res.data && typeof res.data === 'object') {\n        const keys = Object.keys(res.data);\n        if (keys.length > 0) {\n          const dataKey = keys.find(key => Array.isArray(res.data[key]));\n          if (dataKey) {\n            departments = res.data[dataKey]\n              .map(dept => dept.DepartmentName || dept.departmentName || dept.name || dept)\n              .filter(name => name && typeof name === 'string' && name.trim() !== '');\n          }\n        }\n      }\n      \n      departments = [...new Set(departments)]; // Remove duplicates\n      \n      console.log('Processed departments:', departments);\n      setAllDepartments(departments);\n      \n      if (departments.length === 0) {\n        setDepartmentError('لم يتم العثور على أي أقسام في النظام');\n      }\n      \n    } catch (err) {\n      console.error(\"Error fetching departments:\", err);\n      setDepartmentError(`خطأ في جلب الأقسام: ${err.response?.data?.message || err.message}`);\n      setAllDepartments([]);\n    }\n  };\n\n  const fetchAllRevenueInfo = async () => {\n    try {\n      setDepartmentError('');\n\n      const res = await api.get('/RevenuInfo/GetAllRevenues');\n\n      let revenueData = [];\n\n      if (res.data && Array.isArray(res.data.loans)) {\n        revenueData = res.data.loans;\n      } else if (res.data && Array.isArray(res.data.Loans)) {\n        revenueData = res.data.Loans;\n      } else if (Array.isArray(res.data)) {\n        revenueData = res.data;\n      }\n\n      console.log('Processed revenue info:', revenueData);\n      setAllRevenueInfo(revenueData);\n\n      if (revenueData.length === 0) {\n        setDepartmentError('لم يتم العثور على أي إيرادات في النظام');\n      }\n\n    } catch (err) {\n      console.error(\"Error fetching revenue info:\", err);\n      setDepartmentError(`خطأ في جلب معلومات الإيرادات: ${err.response?.data?.message || err.message}`);\n      setAllRevenueInfo([]);\n    }\n  };\n\n  const fetchRevenues = async () => {\n    if (!selectedYear || !selectedMonth) {\n      setError(\"يرجى تحديد الشهر والسنة.\");\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      const url = `/BudgetRevenue/GetReportByDateAndDep?year=${selectedYear}&month=${selectedMonth}&department=${encodeURIComponent(department)}`;\n      console.log('Fetching revenues from:', url);\n      \n      const res = await api.get(url);\n      console.log('Revenues API Response:', res.data);\n      \n      let data = [];\n      if (Array.isArray(res.data)) {\n        data = res.data;\n      } else if (res.data && Array.isArray(res.data.revenues)) {\n        data = res.data.revenues;\n      } else if (res.data && Array.isArray(res.data.data)) {\n        data = res.data.data;\n      } else if (res.data && typeof res.data === 'object') {\n        const keys = Object.keys(res.data);\n        const dataKey = keys.find(key => Array.isArray(res.data[key]));\n        if (dataKey) {\n          data = res.data[dataKey];\n        }\n      }\n      \n      console.log('Processed revenues data:', data);\n      setRevenues(data);\n      \n    } catch (err) {\n      console.error(\"Error fetching revenues:\", err);\n      if (err.response?.status === 404) {\n        setRevenues([]);\n        setError(\"لا توجد بيانات للفترة المحددة.\");\n      } else {\n        setError(`فشل في جلب البيانات: ${err.response?.data?.message || err.message}`);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n    const fetchPreviousRevenues = async () => {\n  const prevMonth = selectedMonth === 1 ? 1 : selectedMonth; // Because your API fetches from Jan to (month - 1)\n  setLoading(true);\n  setError('');\n\n  try {\n    const url = `/BudgetRevenue/GetReportForward?year=${selectedYear}&month=${prevMonth}&department=${encodeURIComponent(department || '')}`;\n    console.log('Fetching carried forward from:', url);\n\n    const res = await api.get(url);\n    console.log('Carried forward API response:', res.data);\n\n    let data = [];\n\n    if (Array.isArray(res.data)) {\n      data = res.data;\n    } else if (res.data && Array.isArray(res.data.data)) {\n      data = res.data.data;\n    } else if (typeof res.data === 'object') {\n      // Handle single department response\n      if (res.data.Department && typeof res.data.CarriedForwardTotal !== 'undefined') {\n        data = [res.data]; // Wrap in array\n      }\n    }\n\n    console.log('Processed forward totals:', data);\n    setPrivouseRevenues(data);\n\n  } catch (err) {\n    console.error(\"Error fetching carried forward totals:\", err);\n    if (err.response?.status === 404) {\n      setPrivouseRevenues([]);\n      setError(\"لا توجد بيانات للفترة المحددة.\");\n    } else {\n      setError(`فشل في جلب البيانات: ${err.response?.data?.message || err.message}`);\n    }\n  } finally {\n    setLoading(false);\n  }\n};\n\nconst removeDuplicatesAndGroup = (revenues, filterSectionNonEmpty = true) => {\n  const uniqueRevenues = revenues.reduce((acc, rev, index) => {\n    const uniqueKey = `${rev.id || index}-${rev.revenueInfo?.id || rev.revenueId || ''}-${rev.department || rev.departmentName || ''}-${rev.revenueCost || 0}-${rev.recordedDate || ''}`;\n    if (!acc.some(item => {\n      const existingKey = `${item.id || item.index}-${item.revenueInfo?.id || item.revenueId || ''}-${item.department || item.departmentName || ''}-${item.revenueCost || 0}-${item.recordedDate || ''}`;\n      return existingKey === uniqueKey;\n    })) {\n      acc.push({ ...rev, index });\n    }\n    return acc;\n  }, []);\n\n  // طبق فلتر القسم هنا\n  const filteredRevenues = uniqueRevenues.filter(rev => {\n    let sectionValue = rev.section || rev.Section || '';\n    if (typeof sectionValue === 'string') {\n      sectionValue = sectionValue.trim();\n    } else {\n      sectionValue = '';\n    }\n    return filterSectionNonEmpty ? sectionValue !== '' : sectionValue === '';\n  });\n\n  // ثم جمع حسب القسم\n  return filteredRevenues.reduce((acc, rev, index) => {\n    let deptName = 'غير محدد';\n\n    try {\n      if (typeof rev.department === 'string' && rev.department.trim()) {\n        deptName = rev.department.trim();\n      } else if (rev.department && typeof rev.department === 'object') {\n        deptName = rev.department.DepartmentName || rev.department.departmentName || rev.department.name || 'غير محدد';\n      } else if (rev.departmentName && rev.departmentName.trim()) {\n        deptName = rev.departmentName.trim();\n      } else if (rev.Department && rev.Department.trim()) {\n        deptName = rev.Department.trim();\n      }\n    } catch (error) {\n      console.error(`Error processing revenue ${index + 1}:`, error, rev);\n    }\n\n    if (!acc[deptName]) {\n      acc[deptName] = [];\n    }\n    acc[deptName].push(rev);\n    return acc;\n  }, {});\n};\nconst groupedRevenuesWithSection = removeDuplicatesAndGroup(revenues, false); // ❌ should be true\nconst groupedRevenuesWithoutSection = removeDuplicatesAndGroup(revenues, true); // ❌ should be false\n\n\nconst departmentStructureWithSection = allDepartments.map(deptName => {\n  const deptRevenues = groupedRevenuesWithSection[deptName] || [];\n  const total = deptRevenues.reduce((sum, item) => {\n    const cost = parseFloat(item.revenueCost || 0);\n    return sum + (isNaN(cost) ? 0 : cost);\n  }, 0);\n\n  return {\n    name: deptName,\n    revenues: deptRevenues,\n    total\n  };\n});\nconst departmentStructureWithoutSection = allDepartments.map(deptName => {\n  const deptRevenues = groupedRevenuesWithoutSection[deptName] || [];\n  const total = deptRevenues.reduce((sum, item) => {\n    const cost = parseFloat(item.revenueCost || 0);\n    return sum + (isNaN(cost) ? 0 : cost);\n  }, 0);\n\n  return {\n    name: deptName,\n    revenues: deptRevenues,\n    total\n  };\n});\n\nconst PrivdepartmentStructure = allDepartments.map(deptName => {\n  const match = Privouserevenues.find(d =>\n    d.department?.trim() === deptName.trim()\n  );\n\n  const total = parseFloat(match?.carriedForwardTotal || 0);\n\n  return {\n    name: deptName,\n    revenues: [], // No detailed revenues for carried forward\n    total: isNaN(total) ? 0 : total\n  };\n});\n\n\n  // Add departments that aren't in the main list but have revenues\n  Object.keys(groupedRevenuesWithSection).forEach(deptName => {\n    if (!allDepartments.includes(deptName)) {\n      const deptRevenues = groupedRevenuesWithSection[deptName] || [];\n      const total = deptRevenues.reduce((sum, item) => {\n        const cost = parseFloat(item.revenueCost || 0);\n        return sum + (isNaN(cost) ? 0 : cost);\n      }, 0);\n      \n      departmentStructureWithSection.push({\n        name: deptName,\n        revenues: deptRevenues,\n        total: total\n      });\n    }\n  });\n\n  const exportToExcel = () => {\n    const filteredDepartments = departmentStructureWithSection.filter(dept => \n      !department || dept.name === department\n    );\n\n    if (filteredDepartments.length === 0) {\n      alert(\"لا توجد أقسام للتصدير\");\n      return;\n    }\n\n    try {\n      const excelData = [];\n      \n      filteredDepartments.forEach((dept) => {\n        excelData.push({\n          'القسم': dept.name,\n          'الرمز': '',\n          'اسم الإيراد': '',\n          'الفصل': '',\n          'النوع': '',\n          'التفاصيل': '',\n          'المبلغ': '',\n          'تاريخ التسجيل': '',\n          'ملاحظات': ''\n        });\n        \n        if (dept.revenues.length === 0) {\n          excelData.push({\n            'القسم': '',\n            'الرمز': '',\n            'اسم الإيراد': 'لا توجد إيرادات',\n            'الفصل': '',\n            'النوع': '',\n            'التفاصيل': '',\n            'المبلغ': 0,\n            'تاريخ التسجيل': '',\n            'ملاحظات': ''\n          });\n        } else {\n          dept.revenues.forEach(rev => {\n            excelData.push({\n              'القسم': '',\n              'الرمز': rev.revenueInfo?.symbol || rev.symbol || '',\n              'اسم الإيراد': rev.revenueInfo?.revenueName || rev.name || '',\n              'الفصل': rev.revenueInfo?.chapter || rev.chapter || '',\n              'النوع': rev.revenueInfo?.type || rev.type || '',\n              'التفاصيل': rev.revenueInfo?.typeDetails || rev.typeDetails || '',\n              'المبلغ': rev.revenueCost || 0,\n              'تاريخ التسجيل': rev.recordedDate ? \n                (typeof rev.recordedDate === 'string' ? \n                  rev.recordedDate.slice(0, 10) : \n                  new Date(rev.recordedDate).toLocaleDateString('en-CA')\n                ) : '',\n              'ملاحظات': rev.notes || ''\n            });\n          });\n        }\n        \n        excelData.push({\n          'القسم': '',\n          'الرمز': '',\n          'اسم الإيراد': 'مجموع القسم',\n          'الفصل': '',\n          'النوع': '',\n          'التفاصيل': '',\n          'المبلغ': dept.total,\n          'تاريخ التسجيل': '',\n          'ملاحظات': ''\n        });\n        \n        excelData.push({\n          'القسم': '',\n          'الرمز': '',\n          'اسم الإيراد': '',\n          'الفصل': '',\n          'النوع': '',\n          'التفاصيل': '',\n          'المبلغ': '',\n          'تاريخ التسجيل': '',\n          'ملاحظات': ''\n        });\n      });\n\n      const worksheet = XLSX.utils.json_to_sheet(excelData);\n      const workbook = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Revenues');\n\n      const buffer = XLSX.write(workbook, { bookType: 'xlsx', type: 'array' });\n      const blob = new Blob([buffer], { type: 'application/octet-stream' });\n      saveAs(blob, `revenue-report-${selectedYear}-${String(selectedMonth).padStart(2, '0')}.xlsx`);\n      \n    } catch (err) {\n      console.error(\"Error exporting to Excel:\", err);\n      alert(`حدث خطأ أثناء التصدير: ${err.message}`);\n    }\n  };\n\nconst totalPerDepartment = allDepartments.map(deptName => {\n  const current = departmentStructureWithSection.find(d => d.name === deptName)?.total || 0;\n  const previous = departmentStructureWithoutSection.find(d => d.name === deptName)?.total || 0;\n  return {\n    name: deptName,\n    total: current + previous\n  };\n});\n\n\n  const getMonthName = (monthNumber) => {\n    const months = [\n      'يناير', 'فبراير', 'مارس', 'أبريل', 'مايو', 'يونيو',\n      'يوليو', 'أغسطس', 'سبتمبر', 'أكتوبر', 'نوفمبر', 'ديسمبر'\n    ];\n    return months[parseInt(monthNumber) - 1] || monthNumber;\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return '';\n    try {\n      if (typeof dateString === 'string') {\n        return dateString.slice(0, 10);\n      }\n      return new Date(dateString).toLocaleDateString('en-CA');\n    } catch {\n      return '';\n    }\n  };\n\n  const formatCurrency = (amount) => {\n    const num = parseFloat(amount || 0);\n    return isNaN(num) ? '0' : num.toLocaleString();\n  };\n\n  return (\n    <>\n      <NavMenu />\n      <div className=\"container my-5\" style={{ direction: 'rtl' }}>\n        <h2 className=\"text-primary mb-4\">تقرير الإيرادات حسب الأقسام</h2>\n\n        {error && <div className=\"alert alert-danger\">{error}</div>}\n        {departmentError && <div className=\"alert alert-warning\">{departmentError}</div>}\n\n        <div className=\"row g-3 align-items-center mb-4\">\n          <div className=\"col-auto\">\n            <label className=\"form-label\">الشهر:</label>\n            <select \n              className=\"form-select\" \n              value={selectedMonth} \n              onChange={(e) => setSelectedMonth(e.target.value)}\n              disabled={loading}\n            >\n              <option value=\"\">اختر الشهر</option>\n              {[...Array(12)].map((_, i) => (\n                <option key={i + 1} value={i + 1}>\n                  {i + 1} - {getMonthName(i + 1)}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"col-auto\">\n            <label className=\"form-label\">السنة:</label>\n            <input\n              type=\"number\"\n              className=\"form-control\"\n              value={selectedYear}\n              onChange={(e) => setSelectedYear(e.target.value)}\n              placeholder=\"2025\"\n              min=\"2020\"\n              max=\"2030\"\n              disabled={loading}\n            />\n          </div>\n\n          <div className=\"col-auto\">\n            <label className=\"form-label\">القسم (اختياري):</label>\n            <select\n              className=\"form-select\"\n              value={department}\n              onChange={(e) => setDepartment(e.target.value)}\n              disabled={loading}\n            >\n              <option value=\"\">جميع الأقسام</option>\n              {allDepartments.map(dept => (\n                <option key={dept} value={dept}>{dept}</option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"col-auto\">\n            <button \n              className=\"btn btn-primary\" \n              onClick={()=>{fetchRevenues();\n                fetchPreviousRevenues();\n              }}\n              disabled={loading || !selectedYear || !selectedMonth}\n            >\n              {loading ? 'جاري التحميل...' : 'عرض التقرير'}\n            </button>\n          </div>\n          <div className=\"col-auto\">\n            <button \n              className=\"btn btn-success\" \n              onClick={exportToExcel}\n              disabled={loading || departmentStructureWithSection.length === 0}\n            >\n              تصدير Excel\n            </button>\n            <button onClick={printReport} className=\"btn btn-secondary mb-3 mx-3\">\n  طباعة التقرير\n</button>\n          </div>\n        </div>\n\n        {loading ? (\n          <div className=\"d-flex justify-content-center my-5\">\n            <div className=\"spinner-border\" role=\"status\">\n              <span className=\"visually-hidden\">جاري التحميل...</span>\n            </div>\n          </div>\n        ) : !selectedYear || !selectedMonth ? (\n          <div className=\"alert alert-info text-center\">\n            يرجى تحديد الشهر والسنة لعرض التقرير\n          </div>\n        ) : allDepartments.length === 0 && !departmentError ? (\n          <div className=\"alert alert-warning text-center\">\n            لا توجد أقسام مسجلة في النظام\n            <br/>\n            <button className=\"btn btn-sm btn-outline-primary mt-2\" onClick={fetchAllDepartments}>\n              إعادة المحاولة\n            </button>\n          </div>\n        ) : (\n          <div className=\"departments-report\">\n            <div className=\"card mt-4\">\n  <div className=\"card-header bg-primary text-white\">\n    <h5 className=\"mb-0\">تفاصيل الإيرادات حسب الأقسام</h5>\n  </div>\n  \n  <div className=\"card-body p-0\"  >\n    <div className=\"table-responsive\" id=\"print-area\">\n      <table className=\"table table-striped table-hover mb-0\">\n        <thead className=\"table-dark\">\n          <tr style={{ minWidth: '100px' , fontSize: '12px',margin:'0',padding:'0' }}>\n            <th className=\"text-center\">القسم</th>\n            <th className=\"text-center\">الفصل</th>\n            <th className=\"text-center\">المادة</th>\n            <th className=\"text-center\">النوع</th>\n            <th className=\"text-center\">تفاصيل النوع</th>\n            <th className=\"text-center\">التفاصيل</th>\n            {departmentStructureWithSection.map(dept => (\n              <th  key={dept.name} className=\"text-center\">{dept.name}</th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {[...new Map(allRevenueInfo.map(info => [info.id, info])).values()]\n                    .filter(info => info.section && info.section.trim() !== '')\n                    .map(info => (\n                      <tr key={info.id} style={{ minWidth: '100px', fontSize: '12px', margin: '0', padding: '0' }}>\n                        <td style={{ fontWeight: 'bold' }} className=\"text-center\">{info.section}</td>\n                        <td style={{ fontWeight: 'bold' }} className=\"text-center\">{info.chapter || ''}</td>\n                        <td style={{ fontWeight: 'bold' }} className=\"text-center\">{info.material || ''}</td>\n                        <td style={{ fontWeight: 'bold' }} className=\"text-center\">{info.type || ''}</td>\n                        <td style={{ fontWeight: 'bold' }} className=\"text-center\">{info.typeDetails || ''}</td>\n                        <td style={{ fontWeight: 'bold' }} className=\"text-center\">{info.revenueName || ''}</td>\n                        {departmentStructureWithSection.map(dept => {\n                          const match = dept.revenues.find(\n                            rev => rev.revenueInfo?.id === info.id || rev.revenueId === info.id\n                          );\n                          return (\n                            <td key={dept.name} className=\"text-center\">\n                              <span className={`badge ${match?.revenueCost < 0 ? 'bg-danger' : 'bg-success'} fs-6`}>\n                                {formatCurrency(match?.revenueCost ?? 0)}\n                              </span>\n                            </td>\n                          );\n                        })}\n                      </tr>\n                  ))}\n\n        </tbody>\n        <tfoot>\n  <tr className=\"table-info\">\n    <td colSpan=\"6\" className=\"text-end fw-bold\">المجموع الكلي لكل الأقسام:</td>\n    <td className=\"text-center fw-bold\">\n      <span className=\"badge bg-info fs-6\">\n        {formatCurrency(\n          departmentStructureWithSection.reduce((sum, dept) => sum + (parseFloat(dept.total) || 0), 0) +\n          PrivdepartmentStructure.reduce((sum, dept) => sum + (parseFloat(dept.total) || 0), 0)\n        )}\n      </span>\n    </td>\n  </tr>\n</tfoot>\n<tfoot>\n  <tr className=\"table-warning\">\n    <td colSpan=\"6\" className=\"text-end fw-bold\">المجموع :</td>\n    {departmentStructureWithSection.map(dept => (\n      <td key={dept.name} className=\"text-center\">\n        <span className=\"badge bg-warning text-dark fs-6\">\n          {formatCurrency(dept.total)}\n        </span>\n      </td>\n    ))}\n  </tr>\n</tfoot>\n\n<tfoot>\n  <tr className=\"table-warning\">\n    <td colSpan=\"6\" className=\"text-end fw-bold\">المدور :</td>\n    {allDepartments.map(deptName => {\n      const deptData = PrivdepartmentStructure.find(d => d.department === deptName || d.name === deptName);\n      const value = deptData?.carriedForwardTotal ?? deptData?.total ?? 0;\n\n      return (\n        <td key={deptName} className=\"text-center\">\n          <span className=\"badge bg-warning text-dark fs-6\">\n            {formatCurrency(value)}\n          </span>\n        </td>\n      );\n    })}\n  </tr>\n</tfoot>\n\n\n        <tfoot>\n  <tr className=\"table-success\">\n    <td colSpan=\"6\" className=\"text-end fw-bold\">المجموع الكلي :</td>\n    {allDepartments.map(deptName => {\n      const current = departmentStructureWithSection.find(d => d.name === deptName)?.total || 0;\n      const previous = PrivdepartmentStructure.find(d => d.name === deptName)?.total || 0;\n      const total = current + previous;\n      return (\n        <td key={deptName} className=\"text-center\">\n          <span className=\"badge bg-success fs-6\">\n            {formatCurrency(total)}\n          </span>\n        </td>\n      );\n    })}\n  </tr>\n  \n  {[...new Map(allRevenueInfo.map(info => [info.id, info])).values()]\n  .filter(info => info.section && info.section.trim() === '') // <-- Filter out rows with empty section\n  .map(info => (\n    <tr key={info.id} style={{ minWidth: '100px', fontSize: '12px', margin: '0', padding: '0' }}>\n      <td style={{ fontWeight: 'bold' }} className=\"text-center\">{info.section}</td>\n      <td style={{ fontWeight: 'bold' }} className=\"text-center\">{info.chapter || ''}</td>\n      <td style={{ fontWeight: 'bold' }} className=\"text-center\">{info.material || ''}</td>\n      <td style={{ fontWeight: 'bold' }} className=\"text-center\">{info.type || ''}</td>\n      <td style={{ fontWeight: 'bold' }} className=\"text-center\">{info.typeDetails || ''}</td>\n      <td style={{ fontWeight: 'bold' }} className=\"text-center\">{info.revenueName || ''}</td>\n      {departmentStructureWithSection.map(dept => {\n        const match = dept.revenues.find(\n          rev => rev.revenueInfo?.id === info.id || rev.revenueId === info.id\n        );\n        return (\n          <td key={dept.name} className=\"text-center\">\n            <span className={`badge ${match ? 'bg-success' : 'bg-secondary'} fs-6`}>\n              {formatCurrency(match?.revenueCost || 0)}\n            </span>\n          </td>\n        );\n      })}\n    </tr>\n))}\n</tfoot>\n      </table>      \n    </div>\n  </div>\n\n  <div className=\"card-body p-0\">\n    <div className=\"table-responsive\">\n      <table className=\"table table-striped table-hover mb-0\">\n        \n        <tbody>\n          {[...new Map(allRevenueInfo.map(info => [info.id, info])).values()]\n    .filter(info => !info.section || info.section.trim() === '')\n    .map(info => (\n      <tr key={info.id} style={{ minWidth: '100px', fontSize: '12px', margin: '0', padding: '0' }}>\n        <td className=\"text-center fw-bold\">{info.section}</td>\n        <td className=\"text-center fw-bold\">{info.chapter || ''}</td>\n        <td className=\"text-center fw-bold\">{info.material || ''}</td>\n        <td className=\"text-center fw-bold\">{info.type || ''}</td>\n        <td className=\"text-center fw-bold\">{info.typeDetails || ''}</td>\n        <td className=\"text-center fw-bold\">{info.revenueName || ''}</td>\n        {departmentStructureWithSection.map(dept => {\n          const match = dept.revenues.find(\n            rev => rev.revenueInfo?.id === info.id || rev.revenueId === info.id\n          );\n          return (\n            <td key={dept.name} className=\"text-center\">\n              <span className={`badge ${match ? 'bg-success' : 'bg-secondary'} fs-6`}>\n                {formatCurrency(match?.revenueCost || 0)}\n              </span>\n            </td>\n          );\n        })}\n      </tr>\n    ))}\n\n        </tbody>\n        <tfoot>\n  <tr className=\"table-info\">\n    <td colSpan=\"6\" className=\"text-end fw-bold\">المجموع الكلي لكل الأقسام:</td>\n    <td className=\"text-center fw-bold\">\n      <span className=\"badge bg-info fs-6\">\n        {formatCurrency(\n          departmentStructureWithoutSection.reduce((sum, dept) => sum + (parseFloat(dept.total) || 0), 0) +\n          PrivdepartmentStructure.reduce((sum, dept) => sum + (parseFloat(dept.total) || 0), 0)\n        )}\n      </span>\n    </td>\n  </tr>\n</tfoot>\n<tfoot>\n  <tr className=\"table-warning\">\n    <td colSpan=\"6\" className=\"text-end fw-bold\">المجموع :</td>\n    {departmentStructureWithoutSection.map(dept => (\n      <td key={dept.name} className=\"text-center\">\n        <span className=\"badge bg-warning text-dark fs-6\">\n          {formatCurrency(dept.total)}\n        </span>\n      </td>\n    ))}\n  </tr>\n</tfoot>\n\n<tfoot>\n  <tr className=\"table-warning\">\n    <td colSpan=\"6\" className=\"text-end fw-bold\">المدور :</td>\n    {allDepartments.map(deptName => {\n      const deptData = PrivdepartmentStructure.find(d => d.department === deptName || d.name === deptName);\n      const value = deptData?.carriedForwardTotal ?? deptData?.total ?? 0;\n\n      return (\n        <td key={deptName} className=\"text-center\">\n          <span className=\"badge bg-warning text-dark fs-6\">\n            {formatCurrency(value)}\n          </span>\n        </td>\n      );\n    })}\n  </tr>\n</tfoot>\n        <tfoot>\n  <tr className=\"table-success\">\n    <td colSpan=\"6\" className=\"text-end fw-bold\">المجموع الكلي :</td>\n    {allDepartments.map(deptName => {\n      const current = departmentStructureWithoutSection.find(d => d.name === deptName)?.total || 0;\n      const previous = PrivdepartmentStructure.find(d => d.name === deptName)?.total || 0;\n      const total = current + previous;\n      return (\n        <td key={deptName} className=\"text-center\">\n          <span className=\"badge bg-success fs-6\">\n            {formatCurrency(total)}\n          </span>\n        </td>\n      );\n    })}\n  </tr>\n</tfoot>\n      </table>      \n    </div>\n  </div>\n</div>\n          </div>\n        )}\n      </div>\n      <Footer />\n    </>\n  );\n}"],"names":["api","axios","create","baseURL","withCredentials","isRefreshing","failedQueue","processQueue","error","token","arguments","length","undefined","forEach","promise","reject","resolve","interceptors","request","use","config","localStorage","getItem","headers","Authorization","response","async","originalRequest","_retry","message","status","Promise","push","then","catch","err","post","newAccessToken","data","accessToken","refreshToken","setItem","removeItem","window","location","href","Footer","logoutTooltip","_jsx","Tooltip","id","className","children","OverlayTrigger","placement","overlay","_jsxs","Date","getFullYear","NavBar","navigate","useNavigate","username","setUsername","useState","UserDepartment","setUserDepartment","useEffect","storedUsername","storedUserDepartment","renderNavItem","to","label","NavLink","_ref","isActive","end","style","display","alignItems","justifyContent","margin","src","alt","width","height","onClick","console","alert","type","toUpperCase","borderRadius","BudgetRevenueReport","department","setDepartment","selectedYear","setSelectedYear","selectedMonth","setSelectedMonth","revenues","setRevenues","Privouserevenues","setPrivouseRevenues","allDepartments","setAllDepartments","allRevenueInfo","setAllRevenueInfo","setError","loading","setLoading","departmentError","setDepartmentError","today","getMonth","storedDept","fetchAllDepartments","fetchAllRevenueInfo","res","get","log","departments","Array","isArray","map","dept","DepartmentName","departmentName","name","filter","trim","Departments","Loans","keys","Object","dataKey","find","key","Set","_err$response","_err$response$data","revenueData","loans","_err$response2","_err$response2$data","removeDuplicatesAndGroup","filterSectionNonEmpty","reduce","acc","rev","index","_rev$revenueInfo","uniqueKey","revenueInfo","revenueId","revenueCost","recordedDate","some","item","_item$revenueInfo","sectionValue","section","Section","deptName","Department","groupedRevenuesWithSection","groupedRevenuesWithoutSection","departmentStructureWithSection","deptRevenues","total","sum","cost","parseFloat","isNaN","departmentStructureWithoutSection","PrivdepartmentStructure","match","d","_d$department","carriedForwardTotal","includes","_departmentStructureW","_departmentStructureW2","current","previous","getMonthName","monthNumber","parseInt","formatCurrency","amount","num","toLocaleString","_Fragment","NavMenu","direction","value","onChange","e","target","disabled","_","i","placeholder","min","max","url","encodeURIComponent","_err$response3","_err$response4","_err$response4$data","fetchRevenues","prevMonth","CarriedForwardTotal","_err$response5","_err$response6","_err$response6$data","fetchPreviousRevenues","exportToExcel","filteredDepartments","excelData","_rev$revenueInfo2","_rev$revenueInfo3","_rev$revenueInfo4","_rev$revenueInfo5","_rev$revenueInfo6","symbol","revenueName","chapter","typeDetails","slice","toLocaleDateString","notes","worksheet","XLSX","json_to_sheet","workbook","book_new","book_append_sheet","buffer","bookType","blob","Blob","saveAs","String","padStart","printReport","printArea","document","getElementById","printWindow","open","printContent","innerHTML","write","close","print","role","minWidth","fontSize","padding","Map","info","values","fontWeight","material","_match$revenueCost","_rev$revenueInfo7","colSpan","_deptData$carriedForw","deptData","_departmentStructureW3","_PrivdepartmentStruct","_rev$revenueInfo8","_rev$revenueInfo9","_ref2","_deptData$carriedForw2","_departmentStructureW4","_PrivdepartmentStruct2"],"sourceRoot":""}