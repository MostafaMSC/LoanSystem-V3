{"version":3,"file":"static/js/726.bb8cafb4.chunk.js","mappings":"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","sources":["Component/AddRevenu.js","Api/AxiosClient.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport api from '../Api/AxiosClient';\nimport '../Style/AddContract.css';\nimport { toast as toastify } from 'react-toastify';\n\nconst CONTRACT_TYPES = [\n  { id: '1', label: 'استشاري' },\n  { id: '2', label: 'تجهيز' },\n  { id: '3', label: 'مشاريع' },\n];\n  const STATE_TYPES = [\n    { id: '1', Status: 'مستمر' },\n    { id: '2', Status: 'منجز' },\n  ];\n\nconst toast = ({ title, description }) => {\n  toastify(\n    <div>\n      <strong>{title}</strong>\n      <div>{description}</div>\n    </div>,\n    {\n      position: 'top-right',\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n    }\n  );\n};\n\nexport default function AddRevenu({ contractId, onClose }) {\n  const navigate = useNavigate();\n  const id = contractId;\n  const isEditMode = Boolean(id);\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  const [loans, setLoans] = useState([]);\n  const [loansLoading, setLoansLoading] = useState(false);\n  const [loansError, setLoansError] = useState('');\n\n  // State for previous payments (from API)\n  const [previousPayments, setPreviousPayments] = useState([]);\n  const [previousPrivatePayments, setPreviousPrivatePayments] = useState([]);\n  const [previousPaymentsLoading, setPreviousPaymentsLoading] = useState(false);\n  const [previousPaymentsError, setPreviousPaymentsError] = useState('');\n  const [showPaymentsCash, setShowPaymentsCash] = useState(false);\n  const [showPaymentsPrivate, setShowPaymentsPrivate] = useState(false);\n  const [cashPayments, setCashPayments] = useState([]);\n  const [privatePayments, setPrivatePayments] = useState([]);\n  const [previousPrivatePaymentsLoading, setPreviousPrivatePaymentsLoading] = useState(false);\n  const [previousPrivatePaymentsError, setPreviousPrivatePaymentsError] = useState('');\n\n const [formData, setFormData] = useState({\n  ContractNumber: '',\n  ContractName: '',\n  ContractType: '',\n  CompanyName: '',\n  Status: '',\n  LoanId: '',\n  ContractSigningDate: '',\n  StartDate: '',\n  CompleteDate: '',\n  DurationInDays: '',\n  AddedDays: '',\n  ContractAmount: '',\n  CostChange: '',\n  CostPlanMins: '',\n  CostAfterChange: '',\n  CostToNatiBank: '',\n  TotalCostPaid: '',\n  Notes: '',\n  OperationLoanCost: '',\n  // ✅ الحقول الجديدة\n  InsuranceDeposits: '',\n  TaxTrusts: '',\n  Penalties: '',\n  OtherTrusts: ''\n});\n\n\n  const [validationErrors, setValidationErrors] = useState({});\n\n  // Cash payment functions\n  const addPayment = () => {\n    setCashPayments(prev => [\n      ...prev,\n      { Amount: '', PaymentDate: '' }\n    ]);\n  };\n\n  const addPrivatePayment = () => {\n    setPrivatePayments(prev => [\n      ...prev,\n      { Amount: '', PaymentDate: '' }\n    ]);\n  };\n\n  const removePayment = (index) => {\n    if (cashPayments.length >= 1) {\n      setCashPayments(prev => prev.filter((_, i) => i !== index));\n    }\n  };\n\n  const removePrivatePayment = (index) => {\n    if (privatePayments.length >= 1) {\n      setPrivatePayments(prev => prev.filter((_, i) => i !== index));\n    }\n  };\n\n  const updatePaymentField = (index, field, value) => {\n    setCashPayments(prev => {\n      const updated = [...prev];\n      updated[index] = { ...updated[index], [field]: value };\n      return updated;\n    });\n  };\n\n  const updatePrivatePaymentField = (index, field, value) => {\n  setPrivatePayments(prev => {\n    const updated = [...prev];\n    updated[index] = { ...updated[index], [field]: value };\n    return updated;\n  });\n};\n\n  // Calculate total cash payments\n  const totalCashPayments = cashPayments.reduce((sum, payment) => {\n    const amount = parseFloat(payment.Amount) || 0;\n    return sum + amount;\n  }, 0);\n\n  const totalPrivatePayments = privatePayments.reduce((sum, payment) => {\n    const amount = parseFloat(payment.Amount) || 0;\n    return sum + amount;\n  }, 0);\n\n  // Calculate total previous payments\n    const totalPreviousPayments = previousPayments.reduce((sum, payment) => {\n      const amount = parseFloat(payment.amount || payment.Amount) || 0;\n      return sum + amount;\n    }, 0);\n\n\n  // Calculate total previous private payments\n  const totalPreviousPrivatePayments = previousPrivatePayments.reduce((sum, payment) => {\n    const amount = parseFloat(payment.amount || payment.Amount) || 0;\n    return sum + amount;\n  }, 0);\n\n  // Update CashPaid in formData when payments change\n  useEffect(() => {\n    setFormData(prev => ({\n      ...prev,\n      CashPaid: totalCashPayments.toString(),\n      PrivateMoneyPaid: totalPrivatePayments.toString()\n    }));\n  }, [totalCashPayments, totalPrivatePayments]);\n\n  // Helper function to get loan name by ID\n  const getLoanNameById = (loanId) => {\n    if (!loanId || !loans.length) return '';\n    const loan = loans.find(loan => (loan.id || loan.ID) == loanId);\n    return loan ? (loan.loanName || loan.LoanName || loan.name || loan.Name) : '';\n  };\n\n  const fetchPreviousPayments = async () => {\n  if (!contractId) return;\n  \n  setPreviousPaymentsLoading(true);\n  setPreviousPaymentsError('');\n  \n  try {\n    const response = await api.get(`/Contracts/GetPaymentsByContractId/${contractId}`);\n    console.log('Payments response:', response.data); // Debug log\n    \n    let paymentsData = response.data;\n    \n    // Handle different response structures\n    if (response.data?.payments) {\n      paymentsData = response.data.payments;\n    } else if (response.data?.data) {\n      paymentsData = response.data.data;\n    } else if (Array.isArray(response.data)) {\n      paymentsData = response.data;\n    }\n    \n    if (Array.isArray(paymentsData)) {\n      // Format the payments data\n      const formattedPayments = paymentsData.map(payment => ({\n        id: payment.id || payment.ID || payment.Id,\n        amount: payment.amount || payment.Amount,\n        paymentDate: payment.paymentDate || payment.PaymentDate,\n        createdAt: payment.createdAt || payment.CreatedAt,\n        updatedAt: payment.updatedAt || payment.UpdatedAt\n      }));\n      \n      setPreviousPayments(formattedPayments);\n    } else {\n      console.warn('Unexpected payments data format:', paymentsData);\n      setPreviousPayments([]);\n    }\n    \n  } catch (err) {\n    console.error(\"Failed to load previous payments:\", err);\n    setPreviousPaymentsError('فشل تحميل الدفعات السابقة');\n  } finally {\n    setPreviousPaymentsLoading(false);\n  }\n};\n\nconst fetchPreviousPrivatePayments = async () => {\n  if (!contractId) return;\n  \n  setPreviousPrivatePaymentsLoading(true);\n  setPreviousPrivatePaymentsError('');\n  \n  try {\n    const response = await api.get(`/Contracts/GetPrivatePaymentsByContractId/${contractId}`);\n    console.log('Private payments response:', response.data); // Debug log\n\n    let paymentsData = response.data;\n    \n    // Handle different response structures\n    if (response.data?.payments) {\n      paymentsData = response.data.payments;\n    } else if (response.data?.data) {\n      paymentsData = response.data.data;\n    } else if (Array.isArray(response.data)) {\n      paymentsData = response.data;\n    }\n    \n    if (Array.isArray(paymentsData)) {\n      // Format the payments data\n      const formattedPayments = paymentsData.map(payment => ({\n        id: payment.id || payment.ID || payment.Id,\n        amount: payment.amount || payment.Amount,\n        paymentDate: payment.paymentDate || payment.PaymentDate,\n        createdAt: payment.createdAt || payment.CreatedAt,\n        updatedAt: payment.updatedAt || payment.UpdatedAt\n      }));\n      \n      setPreviousPrivatePayments(formattedPayments);\n    } else {\n      console.warn('Unexpected private payments data format:', paymentsData);\n      setPreviousPrivatePayments([]);\n    }\n    \n  } catch (err) {\n    console.error(\"Failed to load previous private payments:\", err);\n    setPreviousPrivatePaymentsError('فشل تحميل الدفعات الخاصة السابقة');\n  } finally {\n    setPreviousPrivatePaymentsLoading(false);\n  }\n};\n\n\n  useEffect(() => {\n    const fetchLoans = async () => {\n      setLoansLoading(true);\n      try {\n        const response = await api.get('/Loan/GetAllLoans');\n        setLoans(response.data?.loans || []);\n      } catch (err) {\n        setLoansError('فشل تحميل قائمة القروض');\n        console.error('Error fetching loans:', err);\n      } finally {\n        setLoansLoading(false);\n      }\n    };\n\n    const fetchContract = async () => {\n      if (!isEditMode) return;\n\n      setIsLoading(true);\n      try {\n        const response = await api.get(`/Contracts/GetContract/${id}`);\n        let contractData;\n\n        if (response.data?.data) contractData = response.data.data;\n        else if (response.data?.contract) contractData = response.data.contract;\n        else contractData = response.data;\n\n        if (!contractData || Object.keys(contractData).length === 0) {\n          throw new Error('No contract data was returned from the API');\n        }\n\n        console.log('Contract data received:', contractData);\n\n        // Normalize keys (case insensitive)\n        const normalizedData = {};\n        Object.keys(formData).forEach((key) => {\n          const matchKey = Object.keys(contractData).find(\n            (k) => k.toLowerCase() === key.toLowerCase()\n          );\n          if (matchKey) normalizedData[key] = contractData[matchKey];\n        });\n\n        // Format date fields for date inputs\n        ['ContractSigningDate', 'StartDate', 'CompleteDate'].forEach((dateField) => {\n          if (normalizedData[dateField]) {\n            const d = new Date(normalizedData[dateField]);\n            if (!isNaN(d)) normalizedData[dateField] = d.toISOString().split('T')[0];\n          }\n        });\n\n        setFormData(prev => ({ ...prev, ...normalizedData }));\n      } catch (err) {\n        setError(err.response?.data?.message || err.message || 'فشل تحميل بيانات العقد.');\n        console.error('Error fetching contract:', err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchLoans();\n    fetchContract();\n    fetchPreviousPayments(); // Fetch previous payments\n    fetchPreviousPrivatePayments(); // Fetch previous private payments\n  }, [id, isEditMode, contractId]);\n\n  // Handle input change & clear validation error for the field\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n\n    if (validationErrors[name]) {\n      setValidationErrors((prev) => ({ ...prev, [name]: '' }));\n    }\n    setFormData((prev) => ({ ...prev, [name]: value }));\n  };\n\n  // Form validation\n  const validateForm = () => {\n    const errors = {};\n\n    if (!formData.ContractNumber.trim()) errors.ContractNumber = 'رقم العقد مطلوب';\n    if (!formData.ContractName.trim()) errors.ContractName = 'اسم العقد مطلوب';\nconsole.log(errors);\n\n    // Validate cash payments\n    cashPayments.forEach((payment, index) => {\n      if (payment.Amount && (isNaN(Number(payment.Amount)) || Number(payment.Amount) < 0)) {\n        errors[`cashPayment_${index}`] = 'يجب أن يكون المبلغ رقمية وغير سالبة';\n        console.log(errors);\n\n      }\n    });\n\n     privatePayments.forEach((payment, index) => {\n    if (payment.Amount && (isNaN(Number(payment.Amount)) || Number(payment.Amount) < 0)) {\n      errors[`privatePayment_${index}`] = 'يجب أن يكون المبلغ رقمية وغير سالبة';\n      console.log(errors);\n\n    }\n  });\n    // Numeric fields validation (should be numbers >= 0)\n    const numericFields = [\n      'ContractAmount',\n      'CostPlanMins',\n      'CostAfterChange',\n      'CostToNatiBank',\n      'TotalCostPaid',\n      'OperationLoanCost',\n      'DurationInDays',\n      'AddedDays',\n      'CostChange'\n    ];\n    numericFields.forEach((field) => {\n      if (formData[field] && (isNaN(Number(formData[field])) || Number(formData[field]) < 0)) {\n        errors[field] = 'يجب أن تكون القيمة رقمية وغير سالبة';\n        console.log(errors);\n\n      }\n    });\n\n    // Date validation\n    if (formData.StartDate && formData.CompleteDate) {\n      const start = new Date(formData.StartDate);\n      const complete = new Date(formData.CompleteDate);\n      if (start > complete) {\n        errors.CompleteDate = 'تاريخ الإنجاز يجب أن يكون بعد تاريخ المباشرة';\n        console.log(errors);\n\n      }\n    }\n\n    setValidationErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  // Submit handler\nconst handleSubmit = async (e) => {\n  e.preventDefault();\n  setError('');\n  setSuccess('');\n\n  if (!validateForm()) {\n    setError('يرجى تصحيح الأخطاء في النموذج قبل الإرسال.');\n    return;\n  }\n\n  setIsSaving(true);\n  try {\n    // Remove the calculated fields from formData\n    const { CashPaid, PrivateMoneyPaid, ...cleanFormData } = formData;\n\n    const submitData = {\n      ...cleanFormData,\n      // Use consistent property names that match backend DTO\n      cashPaidPayments: cashPayments\n        .filter(p => p.Amount && p.Amount !== '')\n        .map(p => ({\n          amount: Number(p.Amount),\n          paymentDate: p.PaymentDate || null\n        })),\n      privatePaidPayments: privatePayments\n        .filter(p => p.Amount && p.Amount !== '')\n        .map(p => ({\n          amount: Number(p.Amount),\n          paymentDate: p.PaymentDate || null\n        }))\n    };\n\n    console.log('Submitting data:', submitData); // Debug log\n\n    if (isEditMode) {\n      await api.put(`/Contracts/UpdateContract/${id}`, submitData);\n      const loanName = getLoanNameById(formData.LoanId);\n      toast({\n        title: 'تمت التعديل بنجاح',\n        description: `${formData.ContractName} تمت تعديل العقد باسم الشركة ${formData.CompanyName}${loanName ? ` - القرض: ${loanName}` : ''}`,\n      });\n      setSuccess('تم تحديث العقد بنجاح!');\n      \n      // Refresh the payments data\n      await fetchPreviousPayments();\n      await fetchPreviousPrivatePayments();\n\n      // Clear new payment forms\n      setCashPayments([]);\n      setPrivatePayments([]);\n\n      onClose(true);\n    } else {\n      const response = await api.post('/Contracts/AddContract', submitData);\n      setSuccess('تم إضافة العقد بنجاح!');\n      if (response.data?.id) {\n        setTimeout(() => navigate(`/EditContract/${response.data.id}`), 1500);\n      }\n    }\n  } catch (err) {\n    console.error('Error saving contract:', err);\n    console.error('Error response:', err.response?.data); // Debug log\n    setError(\n      err.response?.status === 401\n        ? 'غير مصرح - الرجاء تسجيل الدخول.'\n        : err.response?.data?.message || 'حدث خطأ أثناء حفظ العقد.'\n    );\n  } finally {\n    setIsSaving(false);\n  }\n};\n\n  const handleCancel = () => onClose();\n\n  // Input renderer helper\n  const renderInput = (label, name, type = 'text', required = false, additionalProps = {}) => (\n    <div className=\"col-md-4 mb-3\">\n      <label className=\"form-label\">\n        {label} {required && <span className=\"text-danger\">*</span>}\n      </label>\n      <input\n        type={type}\n        name={name}\n        className={`form-control ${validationErrors[name] ? 'is-invalid' : ''}`}\n        value={formData[name] ?? ''}\n        onChange={handleChange}\n        required={required}\n        {...additionalProps}\n      />\n      {validationErrors[name] && <div className=\"invalid-feedback\">{validationErrors[name]}</div>}\n    </div>\n  );\n\n  // Format date for display\n  const formatDate = (dateString) => {\n    if (!dateString) return 'Not specified';\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('en-US');\n    } catch {\n      return 'Not specified';\n    }\n  };\n\n  // Delete previous payment\n  const deletePreviousPayment = async (paymentId) => {\n    if (!paymentId) return;\n    \n    if (!window.confirm('هل أنت متأكد من حذف هذه الدفعة؟')) {\n      return;\n    }\n    \n    try {\n      await api.delete(`/Contracts/DeletePayment/${paymentId}`);\n      \n      // Remove from local state\n      setPreviousPayments(prev => prev.filter(p => p.id !== paymentId));\n      \n      toast({\n        title: 'تم الحذف بنجاح',\n        description: 'تم حذف الدفعة بنجاح',\n      });\n      \n    } catch (err) {\n      console.error('Error deleting payment:', err);\n      toast({\n        title: 'خطأ في الحذف',\n        description: err.response?.data?.message || 'فشل في حذف الدفعة',\n      });\n    }\n  };\n  const deletePreviousPrivatePayment = async (paymentId) => {\n\nif (!paymentId) return;\n    \n    if (!window.confirm('هل أنت متأكد من حذف هذه الدفعة؟')) {\n      return;\n    }\n    \n    try {\n      await api.delete(`/Contracts/DeletePrivatePayment/${paymentId}`);\n      \n      // Remove from local state\n      setPreviousPrivatePayments(prev => prev.filter(p => p.id !== paymentId));\n\n      toast({\n        title: 'تم الحذف بنجاح',\n        description: 'تم حذف الدفعة بنجاح',\n      });\n      \n    } catch (err) {\n      console.error('Error deleting payment:', err);\n      toast({\n        title: 'خطأ في الحذف',\n        description: err.response?.data?.message || 'فشل في حذف الدفعة',\n      });\n    }\n  };\n\n\n\n  if (isLoading)\n    return (\n      <div className=\"d-flex flex-column min-vh-100\">\n        <main className=\"flex-fill container my-4 text-center\">\n          <div className=\"spinner-border text-primary\" role=\"status\">\n            <span className=\"visually-hidden\">جاري التحميل...</span>\n          </div>\n        </main>\n      </div>\n    );\n\n  return (\n    <div className=\"d-flex flex-column min-vh-100 \">\n      <main className=\"flex-fill container my-4\">\n        <div className=\"card contract-form-container\">\n          <div className=\"card-header d-flex justify-content-center align-items-center\">\n            <h2 className=\"mb-0\">{isEditMode ? 'البيانات المالية للعقد' : 'إضافة عقد جديد'}</h2>\n          </div>\n          <div className=\"card-body\">\n            {error && <div className=\"alert alert-danger\">{error}</div>}\n            {success && <div className=\"alert alert-success\">{success}</div>}\n\n            <form onSubmit={handleSubmit} noValidate>\n              <div className=\"row\">\n                {renderInput('رقم العقد', 'ContractNumber', 'text', true, { readOnly: true })}\n                {renderInput('اسم العقد', 'ContractName', 'text', true, { readOnly: true })}\n\n                <div className=\"col-md-4 mb-3\">\n                  <label className=\"form-label\">نوع العقد</label>\n                  <select\n                    name=\"ContractType\"\n                    className=\"form-select\"\n                    value={formData.ContractType}\n                    onChange={handleChange}\n                    disabled\n                  >\n                    <option value=\"\">-- اختر نوع العقد --</option>\n                    {CONTRACT_TYPES.map(({ id, label }) => (\n                      <option key={id} value={id}>\n                        {label}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                {renderInput('اسم الشركة', 'CompanyName', 'text', false, { readOnly: true })}\n                <div className=\"col-md-4 mb-3\">\n                  <label className=\"form-label\">الحالة</label>\n                  <select\n                    name=\"Status\"\n                    className=\"form-select\"\n                    value={formData.Status}\n                    onChange={handleChange}\n                    disabled\n                  >\n                    <option value=\"\">-- اختر الحالة --</option>\n                    {STATE_TYPES.map(({ id, Status }) => (\n                      <option key={id} value={id}>\n                        {Status}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <div className=\"col-md-4 mb-3\">\n                  <label className=\"form-label\">القرض</label>\n                  <select\n                    name=\"LoanId\"\n                    className=\"form-select\"\n                    value={formData.LoanId}\n                    onChange={handleChange}\n                    disabled\n                  >\n                    <option value=\"\">-- اختر القرض --</option>\n                    {loans.map((loan) => (\n                      <option key={loan.id || loan.ID} value={loan.id || loan.ID}>\n                        {loan.loanName || loan.LoanName || loan.name || loan.Name}\n                      </option>\n                    ))}\n                  </select>\n                  {loansError && <small className=\"text-danger\">{loansError}</small>}\n\n                </div>\n\n                {renderInput('تاريخ توقيع العقد', 'ContractSigningDate', 'date', false, { readOnly: true })}\n                {renderInput('تاريخ المباشرة', 'StartDate', 'date', false, { readOnly: true })}\n                {renderInput('تاريخ الإنجاز', 'CompleteDate', 'date', false, { readOnly: true })}\n                {renderInput('مدة العقد بالأيام', 'DurationInDays', 'number', false, { readOnly: true })}\n                {renderInput('الأيام المضافة', 'AddedDays', 'number', false, { readOnly: true })}\n\n                {renderInput('مبلغ العقد', 'ContractAmount', 'number', false, { readOnly: true })}\n                \n                <div className=\"col-12\">\n                  <h4 className=\"text-primary border-bottom pb-2\">بيانات الايرادات</h4>\n                </div>\n                \n                {renderInput('اوامر الغيار', 'CostChange', 'number',false,{ readOnly: true })}\n                {renderInput('كلف الادراج في وزارة التخطيط', 'CostPlanMins', 'number')}\n                {renderInput('كلف العقد بعد اوامر الغيار', 'CostAfterChange', 'number', false, { readOnly: true })}\n                {renderInput('المبالغ المصروفة من قبل البنك الدولي', 'CostToNatiBank', 'number')}\n                {renderInput('المصروف التراكمي', 'TotalCostPaid', 'number')}\n                {renderInput('المصروف كسلفة تشغيلية 10 %', 'OperationLoanCost', 'number')}\n\n\n<div className='border-bottom d-flex justify-content-between'>\n<h6 \n  className={`ChangeBg pb-2 ${showPaymentsCash ? 'text-danger' : 'text-info'}`}\n  style={{ cursor: 'pointer' }}\n  onClick={() => setShowPaymentsCash(prev => !prev)}\n>\n  {showPaymentsCash ? 'إخفاء الدفعات النقدية' : 'الاطلاع على الدفعات النقدية السابقة'}\n</h6>\n\n<h6 \n  className={`ChangeBg pb-2 ${showPaymentsPrivate ? 'text-danger' : 'text-info'}`}\n  style={{ cursor: 'pointer' }}\n  onClick={() => setShowPaymentsPrivate(prev => !prev)}\n>\n  {showPaymentsPrivate ? 'إخفاء الدفعات الخاصة' : 'الاطلاع على الدفعات الخاصة السابقة'}\n</h6>\n\n  </div>\n\n                <div className=\"col-12 mb-4\">\n                  { showPaymentsCash && (\n                  <h5 className=\"text-info border-bottom pb-2\">\n                  الدفعات المالية السابقة كاش\n                    {previousPayments.length > 0 && showPaymentsCash && (\n                      <span className=\"badge bg-info p-1 m-2\">\n                        {previousPayments.length} دفعة\n                      </span>\n                    )}\n                  </h5>\n                  )}\n                  {previousPaymentsLoading && showPaymentsCash && (\n                    <div className=\"text-center p-3\">\n                      <div className=\"spinner-border spinner-border-sm text-primary\" role=\"status\">\n                        <span className=\"visually-hidden\">جاري التحميل...</span>\n                      </div>\n                      <span className=\"ms-2\">جاري تحميل الدفعات السابقة...</span>\n                    </div>\n                  )}\n                  \n                  {previousPaymentsError && showPaymentsCash  && (\n                    <div className=\"alert alert-warning\">\n                      <i className=\"bi bi-exclamation-triangle\"></i> {previousPaymentsError}\n                      <button \n                        type=\"button\" \n                        className=\"btn btn-sm btn-outline-primary ms-2\"\n                        onClick={fetchPreviousPayments}\n                      >\n                        إعادة المحاولة\n                      </button>\n                    </div>\n                  )}\n                  \n                  {!previousPaymentsLoading && !previousPaymentsError && previousPayments.length === 0 && showPaymentsCash && (\n                    <div className=\"alert alert-info\">\n                      <i className=\"bi bi-info-circle\"></i> لا توجد دفعات نقدية سابقة مسجلة لهذا العقد\n                    </div>\n                  )}\n                  \n                  {previousPayments.length > 0  && showPaymentsCash && (\n                    <div className=\"table-responsive\">\n                      <table className=\"table table-striped table-hover\">\n                        <thead className=\"table-light\">\n                          <tr>\n                            <th>#</th>\n                            <th>المبلغ</th>\n                            <th>تاريخ الدفع</th>\n                            <th>الإجراءات</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {previousPayments.map((payment, index)  => (\n                            <tr key={payment.id || index}>\n                              <td>{index + 1}</td>\n                              <td>\n                                <span className=\"text-success fw-bold\">\n                                  {parseFloat(payment.amount).toLocaleString()} دينار\n                                </span>\n                              </td>\n                              <td>{formatDate(payment.paymentDate)}</td>\n                              <td>\n                                <button\n                                  type=\"button\"\n                                  className=\"btn btn-outline-danger btn-sm p-0 w-50\"\n                                  onClick={() => deletePreviousPayment(payment.id)}\n                                  title=\"حذف الدفعة\"\n                                >\n                                  <i className=\"bi bi-trash\"></i> حذف\n                                </button>\n                              </td>\n                            </tr>\n                          ))}\n                        </tbody>\n                        <tfoot className=\"table-light\">\n                          <tr>\n                            <th colSpan=\"1\">المجموع:</th>\n                            <th className=\"text-success\">\n                              {totalPreviousPayments.toLocaleString()} دينار\n                            </th>\n                            <th colSpan=\"3\"></th>\n                          </tr>\n                        </tfoot>\n                      </table>\n                    </div>\n                  )}\n                </div>\n                \n                  <div className=\"col-12 mb-3\">\n                    {showPaymentsCash && (\n                    <h5 className=\"text-secondary border-bottom pb-2\">\n                      إضافة دفعات نقدية جديدة\n                      {cashPayments.filter(p => p.Amount).length > 0 && (\n                        <span className=\"badge bg-success ms-2\">\n                        {cashPayments.filter(p => p.Amount).length} دفعة جديدة\n                      </span>\n                    )}\n                  </h5>)\n                    }\n  \n                  \n                  {cashPayments.map((payment, index) => (\n                    <div key={index} className=\"border p-3 mb-3 rounded\">\n                      <div className=\"row\">\n                        <div className=\"col-md-4\">\n                          <label className=\"form-label\">المبلغ</label>\n                          <input\n                            type=\"number\"\n                            className={`form-control ${validationErrors[`cashPayment_${index}`] ? 'is-invalid' : ''}`}\n                            value={payment.Amount}\n                            onChange={(e) => updatePaymentField(index, 'Amount', e.target.value)}\n                            min=\"0\"\n                            step=\"0.01\"\n                            placeholder=\"أدخل المبلغ\"\n                          />\n                          {validationErrors[`cashPayment_${index}`] && (\n                            <div className=\"invalid-feedback\">{validationErrors[`cashPayment_${index}`]}</div>\n                          )}\n                        </div>\n                        <div className=\"col-md-4\">\n                          <label className=\"form-label\">تاريخ الدفع</label>\n                          <input\n                            type=\"date\"\n                            className=\"form-control\"\n                            value={payment.PaymentDate}\n                            onChange={(e) => updatePaymentField(index, 'PaymentDate', e.target.value)}\n                          />\n                        </div>\n                        <div className=\"col-md-4 d-flex align-items-end\">\n                          <button\n                            type=\"button\"\n                            className=\"btn btn-outline-danger\"\n                            onClick={() => removePayment(index)}\n                          >\n                            حذف\n                          </button>\n                          {payment.Amount && (\n                            <span className=\"ms-2 badge bg-info\">\n                              {parseFloat(payment.Amount).toLocaleString()} دينار\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n{showPaymentsCash && (\n  <div>\n    <button\n      type=\"button\"\n      className=\"btn btn-outline-success mb-3\"\n      onClick={addPayment}\n    >\n      ➕ إضافة دفعة نقدية\n    </button>\n\n    <div className=\"alert alert-info\">\n      <strong>إجمالي الدفعات الجديدة: </strong>\n      <span className=\"text-success fs-5\">\n        {totalCashPayments.toLocaleString()} دينار\n      </span>\n\n      {cashPayments.filter(p => p.Amount).length > 0 && (\n        <small className=\"d-block text-muted mt-2\">\n          عدد الدفعات الجديدة: {cashPayments.filter(p => p.Amount).length}\n        </small>\n      )}\n    </div>\n  </div>\n)}\n\n\n                  {showPaymentsCash && (\n                    <div className=\"alert alert-info\">\n                      <h6 className=\"alert-heading\">ملخص إجمالي الدفعات النقدية</h6>\n                      <div className=\"row\">\n                        <div className=\"col-md-4\">\n                          <strong>الدفعات النقدية السابقة:</strong> {totalPreviousPayments.toLocaleString()} دينار\n                        </div>\n                        <div className=\"col-md-4\">\n                          <strong>الدفعات النقدية الجديدة:</strong> {totalCashPayments.toLocaleString()} دينار\n                        </div>\n                        <div className=\"col-md-4\">\n                          <strong>المجموع الكلي:</strong>\n                          <span className=\"text-success fs-5 ms-1\">\n                            {(totalPreviousPayments + totalCashPayments).toLocaleString()} دينار\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                  \n                </div>\n\n\n\n<div className=\"col-12 mb-4\">\n  {showPaymentsPrivate && (\n    <h5 className=\"text-info border-bottom pb-2\">\n      الدفعات المالية السابقة خاصة\n      {previousPrivatePayments.length > 0 && showPaymentsPrivate && (\n        <span className=\"badge bg-info p-1 m-2\">\n          {previousPrivatePayments.length} دفعة\n        </span>\n      )}\n    </h5>\n  )}\n\n\n{previousPrivatePayments.length === 0 && showPaymentsPrivate && (\n  <div className=\"alert alert-info\">\n    <i className=\"bi bi-info-circle\"></i> لا توجد دفعات خاصة سابقة مسجلة لهذا العقد\n  </div>\n)}\n\n                  {previousPrivatePayments.length > 0 && showPaymentsPrivate && (\n    <div className=\"table-responsive\">\n      <table className=\"table table-striped table-hover\">\n        <thead className=\"table-light\">\n          <tr>\n            <th>#</th>\n            <th>المبلغ</th>\n            <th>تاريخ الدفع</th>\n            <th>الإجراءات</th>\n          </tr>\n        </thead>\n        <tbody>\n          {previousPrivatePayments.map((payment, index) => (\n            <tr key={payment.id || index}>\n              <td>{index + 1}</td>\n              <td>\n                <span className=\"text-success fw-bold\">\n                  {parseFloat(payment.amount).toLocaleString()} دينار\n                </span>\n              </td>\n              <td>{formatDate(payment.paymentDate)}</td>\n              <td>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-outline-danger btn-sm p-0 w-50\"\n                  onClick={() => deletePreviousPrivatePayment(payment.id)}\n                  title=\"حذف الدفعة\"\n                >\n                  <i className=\"bi bi-trash\"></i> حذف\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n        <tfoot className=\"table-light\">\n          <tr>\n            <th colSpan=\"1\">المجموع:</th>\n            <th className=\"text-success\">\n              {totalPreviousPrivatePayments.toLocaleString()} دينار\n            </th>\n            <th colSpan=\"3\"></th>\n          </tr>\n        </tfoot>\n      </table>\n    </div>\n  )}\n                </div>\n                \n<div className=\"col-12 mb-3\">\n  {showPaymentsPrivate && (\n    <h5 className=\"text-secondary border-bottom pb-2\">\n      إضافة دفعات خاصة جديدة\n      {privatePayments.filter(p => p.Amount).length > 0 && (\n        <span className=\"badge bg-success ms-2\">\n          {privatePayments.filter(p => p.Amount).length} دفعة جديدة\n        </span>\n      )}\n    </h5>\n  )}\n  \n                  \n                  {privatePayments.map((payment, index) => (\n                    <div key={index} className=\"border p-3 mb-3 rounded\">\n                      <div className=\"row\">\n                        <div className=\"col-md-4\">\n                          <label className=\"form-label\">المبلغ</label>\n                          <input\n                            type=\"number\"\n                            className={`form-control ${validationErrors[`privatePayment_${index}`] ? 'is-invalid' : ''}`}\n                            value={payment.Amount}\n                            onChange={(e) => updatePrivatePaymentField(index, 'Amount', e.target.value)}\n                            min=\"0\"\n                            step=\"0.01\"\n                            placeholder=\"أدخل المبلغ\"\n                          />\n                          {validationErrors[`privatePayment_${index}`] && (\n                            <div className=\"invalid-feedback\">{validationErrors[`privatePayment_${index}`]}</div>\n                          )}\n                        </div>\n                        <div className=\"col-md-4\">\n                          <label className=\"form-label\">تاريخ الدفع</label>\n                          <input\n                            type=\"date\"\n                            className=\"form-control\"\n                            value={payment.PaymentDate}\n                            onChange={(e) => updatePrivatePaymentField(index, 'PaymentDate', e.target.value)}\n                          />\n                        </div>\n                        <div className=\"col-md-4 d-flex align-items-end\">\n                          <button\n                            type=\"button\"\n                            className=\"btn btn-outline-danger\"\n                            onClick={() => removePrivatePayment(index)}\n                          >\n                            حذف\n                          </button>\n                          {payment.Amount && (\n                            <span className=\"ms-2 badge bg-info\">\n                              {parseFloat(payment.Amount).toLocaleString()} دينار\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n{ showPaymentsPrivate && (\n  <div>\n<button\n                    type=\"button\"\n                    className=\"btn btn-outline-success mb-3\"\n                    onClick={addPrivatePayment}\n                  >\n                    ➕ اضافة دفعة خاصة\n                  </button>\n\n                  <div className=\"alert alert-info\">\n                    <strong>إجمالي الدفعات الجديدة: </strong>\n                    <span className=\"text-success fs-5\">{totalPrivatePayments.toLocaleString()} دينار</span>\n                    {privatePayments.filter(p => p.Amount).length > 0 && (\n                      <small className=\"d-block text-muted\">\n                        عدد الدفعات الجديدة: {privatePayments.filter(p => p.Amount).length}\n                      </small>\n                    )}\n                  </div>\n\n\n  </div>\n\n)}\n                  \n\n\n{showPaymentsPrivate && (\n  <div className=\"alert alert-info\">\n    <h6 className=\"alert-heading\">ملخص إجمالي الدفعات الخاصة</h6>\n    <div className=\"row\">\n      <div className=\"col-md-4\">\n        <strong>الدفعات الخاصة السابقة:</strong> {totalPreviousPrivatePayments.toLocaleString()} دينار {/* Fixed variable */}\n      </div>\n      <div className=\"col-md-4\">\n        <strong>الدفعات الخاصة الجديدة:</strong> {totalPrivatePayments.toLocaleString()} دينار {/* Fixed variable */}\n      </div>\n      <div className=\"col-md-4\">\n        <strong>المجموع الكلي:</strong>\n        <span className=\"text-success fs-5 ms-1\">\n          {(totalPreviousPrivatePayments + totalPrivatePayments).toLocaleString()} دينار {/* Fixed variables */}\n        </span>\n      </div>\n    </div>\n  </div>\n)}\n                  \n                </div>\n{renderInput('تأمينات', 'InsuranceDeposits', 'number')}\n{renderInput('أمانات ضريبية', 'TaxTrusts', 'number')}\n{renderInput('غرامات', 'Penalties', 'number')}\n{renderInput('أمانات أخرى', 'OtherTrusts', 'number')}\n\n                <div className=\"col-12\">\n                  <label className=\"form-label\">ملاحظات</label>\n                  <textarea\n                    name=\"Notes\"\n                    className=\"form-control\"\n                    rows=\"3\"\n                    value={formData.Notes}\n                    onChange={handleChange}\n                  />\n                </div>\n              </div>\n\n              <div className=\"d-flex justify-content-between mt-4 gap-5\">\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary\"\n                  disabled={isSaving}\n                >\n                  {isSaving ? 'جاري الحفظ...' : 'حفظ'}\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-secondary\"\n                  onClick={handleCancel}\n                  disabled={isSaving}\n                >\n                  إلغاء\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}","import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: 'http://localhost:5109',\n  withCredentials: true\n});\n\nlet isRefreshing = false;\nlet failedQueue = [];\n\nconst processQueue = (error, token = null) => {\n  failedQueue.forEach(promise => {\n    if (error) {\n      promise.reject(error);\n    } else {\n      promise.resolve(token);\n    }\n  });\n  failedQueue = [];\n};\n\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\napi.interceptors.response.use(\n  response => response,\n  async error => {\n    const originalRequest = error.config;\n\n    if (\n      originalRequest &&\n      !originalRequest._retry &&\n      (error.message === \"Access token expired\" || (error.response && error.response.status === 401))\n    ) {\n      if (isRefreshing) {\n        return new Promise((resolve, reject) => {\n          failedQueue.push({ resolve, reject });\n        })\n          .then(token => {\n            originalRequest.headers.Authorization = `Bearer ${token}`;\n            return api(originalRequest);\n          })\n          .catch(err => Promise.reject(err));\n      }\n\n      originalRequest._retry = true;\n      isRefreshing = true;\n\n      try {\n        const response = await axios.post('http://localhost:5109/auth/refresh', {},{withCredentials : true});\n        const newAccessToken = response.data.accessToken;\n        const newRefreshToken = response.data.refreshToken;\n\n        localStorage.setItem('token', newAccessToken);\n\n        processQueue(null, newAccessToken);\n\n        originalRequest.headers.Authorization = `Bearer ${newAccessToken}`;\n        return api(originalRequest);\n      } catch (err) {\n        processQueue(err, null);\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"refreshToken\");\n        window.location.href = \"/\";\n        return Promise.reject(err);\n      } finally {\n        isRefreshing = false;\n      }\n    }\n\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n"],"names":["CONTRACT_TYPES","id","label","STATE_TYPES","Status","toast","_ref","title","description","toastify","_jsxs","children","_jsx","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","AddRevenu","_ref2","contractId","onClose","navigate","useNavigate","isEditMode","Boolean","isLoading","setIsLoading","useState","isSaving","setIsSaving","error","setError","success","setSuccess","loans","setLoans","loansLoading","setLoansLoading","loansError","setLoansError","previousPayments","setPreviousPayments","previousPrivatePayments","setPreviousPrivatePayments","previousPaymentsLoading","setPreviousPaymentsLoading","previousPaymentsError","setPreviousPaymentsError","showPaymentsCash","setShowPaymentsCash","showPaymentsPrivate","setShowPaymentsPrivate","cashPayments","setCashPayments","privatePayments","setPrivatePayments","previousPrivatePaymentsLoading","setPreviousPrivatePaymentsLoading","previousPrivatePaymentsError","setPreviousPrivatePaymentsError","formData","setFormData","ContractNumber","ContractName","ContractType","CompanyName","LoanId","ContractSigningDate","StartDate","CompleteDate","DurationInDays","AddedDays","ContractAmount","CostChange","CostPlanMins","CostAfterChange","CostToNatiBank","TotalCostPaid","Notes","OperationLoanCost","InsuranceDeposits","TaxTrusts","Penalties","OtherTrusts","validationErrors","setValidationErrors","updatePaymentField","index","field","value","prev","updated","updatePrivatePaymentField","totalCashPayments","reduce","sum","payment","parseFloat","Amount","totalPrivatePayments","totalPreviousPayments","amount","totalPreviousPrivatePayments","useEffect","CashPaid","toString","PrivateMoneyPaid","fetchPreviousPayments","async","_response$data","_response$data2","response","api","get","console","log","data","paymentsData","payments","Array","isArray","formattedPayments","map","ID","Id","paymentDate","PaymentDate","createdAt","CreatedAt","updatedAt","UpdatedAt","warn","err","fetchPreviousPrivatePayments","_response$data3","_response$data4","_response$data5","fetchLoans","_response$data6","_response$data7","contractData","contract","Object","keys","length","Error","normalizedData","forEach","key","matchKey","find","k","toLowerCase","dateField","d","Date","isNaN","toISOString","split","_err$response","_err$response$data","message","fetchContract","handleChange","e","name","target","renderInput","_formData$name","type","arguments","undefined","required","additionalProps","className","onChange","formatDate","dateString","toLocaleDateString","role","onSubmit","preventDefault","validateForm","errors","trim","Number","cleanFormData","submitData","cashPaidPayments","filter","p","privatePaidPayments","put","loanName","loanId","loan","LoanName","Name","getLoanNameById","_response$data8","post","setTimeout","_err$response2","_err$response3","_err$response4","_err$response4$data","status","noValidate","readOnly","disabled","_ref3","_ref4","style","cursor","onClick","toLocaleString","paymentId","window","confirm","delete","_err$response5","_err$response5$data","deletePreviousPayment","colSpan","min","step","placeholder","_","i","removePayment","addPayment","_err$response6","_err$response6$data","deletePreviousPrivatePayment","removePrivatePayment","addPrivatePayment","rows","handleCancel","axios","create","baseURL","withCredentials","isRefreshing","failedQueue","processQueue","token","promise","reject","resolve","interceptors","request","use","config","localStorage","getItem","headers","Authorization","originalRequest","_retry","Promise","push","then","catch","newAccessToken","accessToken","refreshToken","setItem","removeItem","location","href"],"sourceRoot":""}