"use strict";(self.webpackChunkloan_system=self.webpackChunkloan_system||[]).push([[561],{2561:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(5043),r=s(3216),n=s(5150),o=s(7488),l=s(6957),c=s(6435),i=s(579);function d(){const{id:e}=(0,r.g)(),t=(0,r.Zp)(),[s,d]=(0,a.useState)([]),[m,h]=(0,a.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.A,{}),(0,i.jsxs)("div",{className:"container mt-5 mb-5",children:[(0,i.jsx)("h2",{className:"mb-4",children:"\u0631\u0641\u0639 \u0648\u062b\u0627\u0626\u0642 \u0627\u0644\u0639\u0642\u062f"}),(0,i.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),0===s.length)return void o.oR.error("\u064a\u0631\u062c\u0649 \u0627\u062e\u062a\u064a\u0627\u0631 \u0645\u0644\u0641\u0627\u062a \u0644\u0644\u0631\u0641\u0639");const r=new FormData;r.append("ContractId",e),s.forEach((e=>r.append("Files",e)));try{h(!0),await n.A.post("/Contracts/UploadContractDocuments",r,{headers:{"Content-Type":"multipart/form-data"}}),o.oR.success("\u062a\u0645 \u0631\u0641\u0639 \u0627\u0644\u0648\u062b\u0627\u0626\u0642 \u0628\u0646\u062c\u0627\u062d"),t("/contracts")}catch(l){console.error(l),o.oR.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0631\u0641\u0639 \u0627\u0644\u0648\u062b\u0627\u0626\u0642")}finally{h(!1)}},children:[(0,i.jsxs)("div",{className:"form-group mb-3",children:[(0,i.jsx)("label",{htmlFor:"fileUpload",className:"form-label",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0644\u0641\u0627\u062a:"}),(0,i.jsx)("input",{type:"file",id:"fileUpload",className:"form-control",multiple:!0,onChange:e=>{d(Array.from(e.target.files))}})]}),(0,i.jsxs)("div",{className:"d-flex gap-3",children:[(0,i.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:m,children:m?"\u062c\u0627\u0631\u064d \u0627\u0644\u0631\u0641\u0639...":"\u0631\u0641\u0639 \u0627\u0644\u0645\u0644\u0641\u0627\u062a"}),(0,i.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>t(-1),children:"\u0631\u062c\u0648\u0639"})]})]}),s.length>0&&(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("h5",{children:"\u0627\u0644\u0645\u0644\u0641\u0627\u062a \u0627\u0644\u0645\u062e\u062a\u0627\u0631\u0629:"}),(0,i.jsx)("ul",{children:s.map(((e,t)=>(0,i.jsx)("li",{children:e.name},t)))})]})]}),(0,i.jsx)(c.A,{})]})}},5150:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(6213);const r=a.A.create({baseURL:"http://localhost:5109",withCredentials:!0});let n=!1,o=[];const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o.forEach((s=>{e?s.reject(e):s.resolve(t)})),o=[]};r.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e})),r.interceptors.response.use((e=>e),(async e=>{const t=e.config;if(t&&!t._retry&&("Access token expired"===e.message||e.response&&401===e.response.status)){if(n)return new Promise(((e,t)=>{o.push({resolve:e,reject:t})})).then((e=>(t.headers.Authorization=`Bearer ${e}`,r(t)))).catch((e=>Promise.reject(e)));t._retry=!0,n=!0;try{const e=await a.A.post("http://localhost:5109/auth/refresh",{},{withCredentials:!0}),s=e.data.accessToken;e.data.refreshToken;return localStorage.setItem("token",s),l(null,s),t.headers.Authorization=`Bearer ${s}`,r(t)}catch(s){return l(s,null),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),window.location.href="/",Promise.reject(s)}finally{n=!1}}return Promise.reject(e)}));const c=r},6435:(e,t,s)=>{s.d(t,{A:()=>o});s(5043);var a=s(615),r=s(1932),n=s(579);function o(){const e=(0,n.jsx)(a.A,{id:"logout-tooltip",className:"custom-tooltip",children:"\u0627\u0644\u0645\u0628\u0631\u0645\u062c\u064a\u0646 : \u0645\u0635\u0637\u0641\u0649 \u0646\u062c\u0645 - \u062c\u064a\u0627\u0646 \u062d\u0633\u064a\u0646"});return(0,n.jsx)(r.A,{placement:"top",className:"custom-tooltip",overlay:e,children:(0,n.jsxs)("footer",{className:"page-footer",children:["\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0642 \u0645\u062d\u0641\u0648\u0638\u0629 \xa9 ",(new Date).getFullYear()," \u0642\u0633\u0645 \u062a\u0642\u0646\u064a\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a"]})})}},6957:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(5043),r=s(3216),n=s(5475),o=s(6213),l=s(1932),c=s(615),i=s(579);function d(){const e=(0,r.Zp)(),[t,s]=(0,a.useState)(""),[d,m]=(0,a.useState)("");(0,a.useEffect)((()=>{const e=localStorage.getItem("username");e&&s(e);const t=localStorage.getItem("UserDepartment");t&&m(t)}),[]);const h=(e,t)=>(0,i.jsx)(n.k2,{to:e,className:e=>{let{isActive:t}=e;return"text-decoration-none nav-link"+(t?" active-link":"")},end:!0,"aria-current":"page",children:t});return(0,i.jsxs)("nav",{className:"bg-custom d-flex justify-content-between flex-row-reverse p-3","aria-label":"Primary navigation",children:[(0,i.jsx)("div",{className:"fs-4 fw-bold hlogo",children:(0,i.jsxs)(n.k2,{to:"/dashboard",className:"nav-brand-link",children:["\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u0646\u062d \u0648\u0627\u0644\u0642\u0631\u0648\u0636",(0,i.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:"0 10px"},children:(0,i.jsx)("img",{src:"/Images/bank.png",className:"logo-shadow-rounded",alt:"",width:"50px",height:"50px"})})]})}),(0,i.jsxs)("ul",{className:"d-flex flex-row-reverse gap-3 list-unstyled mb-0 align-items-center fw-bold",children:[(0,i.jsx)("li",{children:h("/dashboard","\u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629")}),(0,i.jsx)("li",{children:h("/contracts"," \u0627\u0644\u0639\u0642\u0648\u062f")}),(0,i.jsx)("li",{children:h("/Loans"," \u0627\u0644\u0642\u0631\u0648\u0636")}),(0,i.jsx)("li",{children:h("/RevenueList"," \u0627\u0644\u0627\u064a\u0631\u0627\u062f\u0627\u062a")}),(0,i.jsx)("li",{children:h("/AdminPanel","\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646")})]}),(0,i.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,i.jsx)(l.A,{placement:"bottom",overlay:(0,i.jsx)(c.A,{id:"logout-tooltip",children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c"}),children:(0,i.jsxs)("button",{"aria-label":"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c",className:"btn btn-outline-danger logoutB",onClick:async()=>{try{await o.A.post("http://localhost:5109/Auth/logout",{},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),localStorage.removeItem("token"),localStorage.removeItem("roles"),localStorage.removeItem("username"),e("/")}catch(t){console.error("Logout failed:",t),alert("\u0641\u0634\u0644 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c\u060c \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.")}},type:"button",children:[(0,i.jsx)("span",{className:"navbar-username",children:t.toUpperCase()}),(0,i.jsx)("img",{className:"PowImg",src:"/Images/power.gif",alt:"Power GIF",style:{borderRadius:"50%"},width:"20",height:"20"})]})}),(0,i.jsx)("h6",{className:"headingDep",children:d||"\u0644\u0627 \u064a\u0648\u062c\u062f \u0642\u0633\u0645"}),(0,i.jsx)("span",{className:"navbar-username",children:(0,i.jsx)(n.k2,{to:"/ChangePassword",className:"nav-brand-link",children:"\u062a\u063a\u064a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"})})]})]})}}}]);
//# sourceMappingURL=561.f0ab4ca1.chunk.js.map