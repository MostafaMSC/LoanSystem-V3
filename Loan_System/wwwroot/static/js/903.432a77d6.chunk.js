"use strict";(self.webpackChunkloan_system=self.webpackChunkloan_system||[]).push([[903],{3903:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(5043),r=s(7488),n=s(6435),l=s(6957),i=s(5150),o=s(579);const c=()=>{const[e,t]=(0,a.useState)([]),[c,d]=(0,a.useState)(""),[m,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)([]),[x,j]=(0,a.useState)([]),[g,v]=(0,a.useState)(null),[y,b]=(0,a.useState)({username:"",email:"",departmentId:"",role:""}),[f,w]=(0,a.useState)({show:!1,username:"",newPassword:""}),N=async(e,t,a,r)=>{const n=(await s.e(64).then(s.t.bind(s,64,23))).default;(await n.fire({title:e,text:t,icon:"warning",showCancelButton:!0,confirmButtonText:a,cancelButtonText:"\u0625\u0644\u063a\u0627\u0621"})).isConfirmed&&r()},A=e=>{switch(e){case"Admin":return"\u0645\u062f\u064a\u0631";case"ArchiveUser":return"\u0627\u0631\u0634\u0641\u0629 \u0627\u0644\u0639\u0642\u0648\u062f";case"LoanUser":return"\u0627\u062f\u0645\u0646 \u0627\u0644\u0642\u0631\u0648\u0636";case"User":return"\u0645\u0633\u062a\u062e\u062f\u0645 \u0639\u0627\u062f\u064a";default:return e}},k=e=>{let{title:t,description:s,type:a="info"}=e;(0,r.oR)((0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:t}),(0,o.jsx)("div",{children:s})]}),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,type:a})};(0,a.useEffect)((()=>{I(),C(),S()}),[]);const I=async()=>{u(!0);try{const e=await i.A.get("/Auth/users");t(e.data.map((e=>{var t;return{id:e.id,name:e.userName,email:e.email||"",role:e.role||"User",status:null===(t=e.status)||void 0===t||t,departmentId:e.departmentId}})))}catch(e){k({title:"\u062e\u0637\u0623",description:"\u0641\u0634\u0644 \u0641\u064a \u062c\u0644\u0628 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646.",type:"error"})}u(!1)},C=async()=>{u(!0);try{const e=await i.A.get("/Auth/GetAllRoles");p(e.data)}catch(e){k({title:"\u062e\u0637\u0623",description:"\u0641\u0634\u0644 \u0641\u064a \u062c\u0644\u0628 \u0627\u0644\u0623\u062f\u0648\u0627\u0631.",type:"error"})}u(!1)},S=async()=>{u(!0);try{const e=await i.A.get("/Department/GetAllDep?page=1&pageSize=100");j(e.data.departments)}catch(e){k({title:"\u062e\u0637\u0623",description:"\u0641\u0634\u0644 \u0641\u064a \u062c\u0644\u0628 \u0627\u0644\u0623\u0642\u0633\u0627\u0645.",type:"error"})}u(!1)},$=()=>{v(null),b({username:"",email:"",departmentId:"",role:""})},P=e=>{if(!e)return"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f";const t=x.find((t=>t.id===e));return t?t.departmentName:"\u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641"},B=()=>{w({show:!1,username:"",newPassword:""})},L=(0,a.useMemo)((()=>e.filter((e=>e.name.toLowerCase().includes(c.toLowerCase())||e.email.toLowerCase().includes(c.toLowerCase())))),[c,e]);return(0,o.jsxs)("div",{className:"d-flex flex-column min-vh-100",children:[(0,o.jsx)(l.A,{}),(0,o.jsx)("main",{className:"container my-4",children:(0,o.jsxs)("div",{className:"user-admin-container",children:[(0,o.jsx)("h2",{children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"}),(0,o.jsxs)("div",{className:"search-container",children:[(0,o.jsx)("input",{type:"text",placeholder:"\u0628\u062d\u062b \u0639\u0646 \u0645\u0633\u062a\u062e\u062f\u0645...",value:c,onChange:e=>d(e.target.value),className:"search-input"}),(0,o.jsx)("img",{src:"/Images/search.png",width:"25px",alt:"",className:"search-icon"})]}),m?(0,o.jsxs)("div",{className:"loading-container",children:[(0,o.jsx)("div",{className:"spinner"}),(0,o.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]}):(0,o.jsx)("div",{className:"table-responsive",children:(0,o.jsxs)("table",{className:"users-table",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,o.jsx)("th",{children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"}),(0,o.jsx)("th",{children:"\u0627\u0644\u0635\u0644\u0627\u062d\u064a\u0629"}),(0,o.jsx)("th",{children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,o.jsx)("th",{children:"\u0627\u0644\u0642\u0633\u0645"}),(0,o.jsx)("th",{children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,o.jsx)("tbody",{children:L.length?L.map((s=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:g===s.id?(0,o.jsx)("input",{type:"text",value:y.username,onChange:e=>b({...y,username:e.target.value}),className:"form-control form-control-sm"}):s.name}),(0,o.jsx)("td",{children:g===s.id?(0,o.jsx)("input",{type:"email",value:y.email,onChange:e=>b({...y,email:e.target.value}),className:"form-control form-control-sm"}):s.email}),(0,o.jsx)("td",{children:g===s.id?(0,o.jsx)("select",{className:"form-select form-select-sm",value:y.role,onChange:e=>b({...y,role:e.target.value}),children:h.map((e=>(0,o.jsx)("option",{value:e.name,children:A(e.name)},e.id)))}):(0,o.jsx)("select",{className:"role-select",value:s.role,onChange:a=>(async(s,a)=>{const r=e.find((e=>e.id===s));if(r)try{await i.A.post("/Auth/assign-role",{username:r.name,role:a}),t((e=>e.map((e=>e.id===s?{...e,role:a}:e)))),k({title:"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062f\u0648\u0631",description:`\u062a\u0645 \u062a\u063a\u064a\u064a\u0631 \u062f\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 ${r.name} \u0625\u0644\u0649 ${A(a)}`,type:"success"})}catch(n){k({title:"\u062e\u0637\u0623",description:"\u0641\u0634\u0644 \u062a\u063a\u064a\u064a\u0631 \u062f\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645.",type:"error"})}})(s.id,a.target.value),children:h.map((e=>(0,o.jsx)("option",{value:e.name,children:A(e.name)},e.id)))})}),(0,o.jsx)("td",{children:(0,o.jsx)("button",{onClick:()=>(async s=>{var a,r;const n=e.find((e=>e.id===s));if(!n)return void k({title:"\u062e\u0637\u0623",description:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f.",type:"error"});const l=n.status?"deactivate-user":"activate-user",o=n.status?"\u062a\u0639\u0637\u064a\u0644":"\u062a\u0641\u0639\u064a\u0644";try{t((e=>e.map((e=>e.id===s?{...e,loading:!0}:e)))),await i.A.post(`Auth/${l}`,{userId:s},{headers:{"Content-Type":"application/json"}}),t((e=>e.map((e=>e.id===s?{...e,status:!e.status,loading:!1}:e)))),k({title:`\u062a\u0645 ${o} \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645`,description:`\u062a\u0645 ${o} \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 ${n.name} \u0628\u0646\u062c\u0627\u062d.`,type:"success"})}catch(c){t((e=>e.map((e=>e.id===s?{...e,loading:!1}:e))));let e="\u0641\u0634\u0644 \u0641\u064a \u062a\u063a\u064a\u064a\u0631 \u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645.";if(c.response)switch(c.response.status){case 401:e="\u063a\u064a\u0631 \u0645\u0635\u0631\u062d \u0644\u0643 \u0628\u062a\u0646\u0641\u064a\u0630 \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621.";break;case 403:e="\u0644\u064a\u0633 \u0644\u062f\u064a\u0643 \u0635\u0644\u0627\u062d\u064a\u0629 \u0644\u062a\u0646\u0641\u064a\u0630 \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621.";break;case 404:e="\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f.";break;case 400:e=(null===(a=c.response.data)||void 0===a?void 0:a.message)||"\u0637\u0644\u0628 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d.";break;default:e=(null===(r=c.response.data)||void 0===r?void 0:r.message)||e}else c.request&&(e="\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0627\u0644\u062e\u0627\u062f\u0645.");k({title:"\u062e\u0637\u0623",description:e,type:"error"}),console.error(`Error ${o} user:`,c)}})(s.id),className:"status-button "+(s.status?"active":"inactive"),children:s.status?"\u0645\u0641\u0639\u0644":"\u0645\u0639\u0637\u0644"})}),(0,o.jsx)("td",{children:g===s.id?(0,o.jsxs)("select",{className:"form-select form-select-sm",value:y.departmentId,onChange:e=>b({...y,departmentId:e.target.value}),children:[(0,o.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0642\u0633\u0645"}),x.map((e=>(0,o.jsx)("option",{value:e.id,children:e.departmentName},e.id)))]}):(0,o.jsxs)("select",{className:"department-select",value:s.departmentId||"",onChange:e=>(async(e,s)=>{try{await i.A.put(`/Auth/update-user-department/${e}`,{departmentId:parseInt(s)}),t((t=>t.map((t=>t.id===e?{...t,departmentId:parseInt(s)}:t))));const a=P(parseInt(s));k({title:"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0642\u0633\u0645",description:`\u062a\u0645 \u062a\u063a\u064a\u064a\u0631 \u0642\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0625\u0644\u0649 ${a}`,type:"success"})}catch(a){k({title:"\u062e\u0637\u0623",description:"\u0641\u0634\u0644 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0642\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645.",type:"error"})}})(s.id,e.target.value),children:[(0,o.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0642\u0633\u0645"}),x.map((e=>(0,o.jsx)("option",{value:e.id,children:e.departmentName},e.id)))]})}),(0,o.jsx)("td",{children:(0,o.jsx)("div",{className:"action-buttons",children:g===s.id?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>(async e=>{try{const s={username:y.username,email:y.email,departmentId:y.departmentId?parseInt(y.departmentId):null,role:y.role};await i.A.put(`/Auth/update-user/${e}`,s),t((t=>t.map((t=>t.id===e?{...t,name:y.username,email:y.email,departmentId:s.departmentId,role:y.role}:t)))),$(),k({title:"\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",description:"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d",type:"success"})}catch(r){var s,a;k({title:"\u062e\u0637\u0623",description:(null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"\u0641\u0634\u0644 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",type:"error"})}})(s.id),className:"btn btn-success btn-sm me-1",title:"\u062d\u0641\u0638",children:"\u2713"}),(0,o.jsx)("button",{onClick:$,className:"btn btn-secondary btn-sm me-1",title:"\u0625\u0644\u063a\u0627\u0621",children:"\u2715"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>(e=>{v(e.id),b({username:e.name,email:e.email,departmentId:e.departmentId||"",role:e.role})})(s),className:"btn btn-primary btn-sm me-1",title:"\u062a\u0639\u062f\u064a\u0644",children:"\u270f\ufe0f"}),(0,o.jsx)("button",{onClick:()=>(async t=>{const s=e.find((e=>e.id===t));s&&N("\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",`\u0647\u0644 \u062a\u0631\u064a\u062f \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645 "${s.name}"\u061f`,"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646",(async()=>{try{const e=await i.A.post("/Auth/reset-user-password",{userId:t});e.data.success?w({show:!0,username:s.name,newPassword:e.data.newPassword}):k({title:"\u062e\u0637\u0623",description:e.data.message||"\u0641\u0634\u0644 \u0641\u064a \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",type:"error"})}catch(r){var e,a;k({title:"\u062e\u0637\u0623",description:(null===(e=r.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||"\u0641\u0634\u0644 \u0641\u064a \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",type:"error"})}}))})(s.id),className:"btn btn-warning btn-sm me-1",title:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",children:"\ud83d\udd11"}),(0,o.jsx)("button",{onClick:()=>(async s=>{const a=e.find((e=>e.id===s));a&&N("\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",`\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 "${a.name}"\u061f \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646\u0647.`,"\u062d\u0630\u0641",(async()=>{try{await i.A.delete(`/Auth/delete-user/${s}`),t((e=>e.filter((e=>e.id!==s)))),k({title:"\u062a\u0645 \u0627\u0644\u062d\u0630\u0641",description:`\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 ${a.name} \u0628\u0646\u062c\u0627\u062d`,type:"success"})}catch(n){var e,r;k({title:"\u062e\u0637\u0623",description:(null===(e=n.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||"\u0641\u0634\u0644 \u0641\u064a \u062d\u0630\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",type:"error"})}}))})(s.id),className:"btn btn-danger btn-sm",title:"\u062d\u0630\u0641",children:"\ud83d\uddd1\ufe0f"})]})})})]},s.id))):(0,o.jsx)("tr",{className:"no-results",children:(0,o.jsx)("td",{colSpan:6,children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c \u0645\u0637\u0627\u0628\u0642\u0629 \u0644\u0644\u0628\u062d\u062b"})})})]})})]})}),f.show&&(0,o.jsx)("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},children:(0,o.jsx)("div",{className:"modal-dialog",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h5",{className:"modal-title",children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629"}),(0,o.jsx)("button",{type:"button",className:"btn-close",onClick:B})]}),(0,o.jsxs)("div",{className:"modal-body",children:[(0,o.jsxs)("p",{children:["\u062a\u0645 \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645: ",(0,o.jsx)("strong",{children:f.username})]}),(0,o.jsx)("div",{className:"alert alert-info mt-3",children:(0,o.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h6",{children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629:"}),(0,o.jsx)("code",{className:"d-block p-2 bg-light rounded",children:f.newPassword})]}),(0,o.jsx)("button",{className:"btn btn-outline-primary",onClick:()=>{var e;e=f.newPassword,navigator.clipboard.writeText(e).then((()=>{k({title:"\u062a\u0645 \u0627\u0644\u0646\u0633\u062e",description:"\u062a\u0645 \u0646\u0633\u062e \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0625\u0644\u0649 \u0627\u0644\u062d\u0627\u0641\u0638\u0629",type:"success"})})).catch((()=>{k({title:"\u062e\u0637\u0623",description:"\u0641\u0634\u0644 \u0641\u064a \u0646\u0633\u062e \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",type:"error"})})),k({title:"\u062a\u0645 \u0627\u0644\u0646\u0633\u062e",description:"\u062a\u0645 \u0646\u0633\u062e \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0625\u0644\u0649 \u0627\u0644\u062d\u0627\u0641\u0638\u0629",type:"success"})},children:"\u0646\u0633\u062e"})]})}),(0,o.jsxs)("div",{className:"alert alert-warning mt-3",children:[(0,o.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),(0,o.jsx)("strong",{children:"\u062a\u0646\u0628\u064a\u0647:"})," \u0647\u0630\u0647 \u0627\u0644\u0643\u0644\u0645\u0629 \u0645\u0624\u0642\u062a\u0629\u060c \u064a\u0631\u062c\u0649 \u0625\u0628\u0644\u0627\u063a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u062a\u063a\u064a\u064a\u0631\u0647\u0627 \u0639\u0646\u062f \u0623\u0648\u0644 \u062f\u062e\u0648\u0644"]})]}),(0,o.jsx)("div",{className:"modal-footer",children:(0,o.jsx)("button",{type:"button",className:"btn btn-primary",onClick:B,children:"\u0625\u063a\u0644\u0627\u0642"})})]})})}),(0,o.jsx)(n.A,{})]})}},5150:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(6213);const r=a.A.create({baseURL:"http://172.16.2.101:5109",withCredentials:!0});let n=!1,l=[];const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;l.forEach((s=>{e?s.reject(e):s.resolve(t)})),l=[]};r.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e})),r.interceptors.response.use((e=>e),(async e=>{const t=e.config;if(t&&!t._retry&&("Access token expired"===e.message||e.response&&401===e.response.status)){if(n)return new Promise(((e,t)=>{l.push({resolve:e,reject:t})})).then((e=>(t.headers.Authorization=`Bearer ${e}`,r(t)))).catch((e=>Promise.reject(e)));t._retry=!0,n=!0;try{const e=await a.A.post("http://172.16.2.101:5109/auth/refresh",{},{withCredentials:!0}),s=e.data.accessToken;e.data.refreshToken;return localStorage.setItem("token",s),i(null,s),t.headers.Authorization=`Bearer ${s}`,r(t)}catch(s){return i(s,null),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),window.location.href="/",Promise.reject(s)}finally{n=!1}}return Promise.reject(e)}));const o=r},6435:(e,t,s)=>{s.d(t,{A:()=>l});s(5043);var a=s(615),r=s(1932),n=s(579);function l(){const e=(0,n.jsx)(a.A,{id:"logout-tooltip",className:"custom-tooltip",children:"\u0627\u0644\u0645\u0628\u0631\u0645\u062c\u064a\u0646 : \u0645\u0635\u0637\u0641\u0649 \u0646\u062c\u0645 - \u062c\u064a\u0627\u0646 \u062d\u0633\u064a\u0646"});return(0,n.jsx)(r.A,{placement:"top",className:"custom-tooltip",overlay:e,children:(0,n.jsxs)("footer",{className:"page-footer",children:["\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0642 \u0645\u062d\u0641\u0648\u0638\u0629 \xa9 ",(new Date).getFullYear()," \u0642\u0633\u0645 \u062a\u0642\u0646\u064a\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a"]})})}},6957:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(5043),r=s(3216),n=s(5475),l=s(6213),i=s(1932),o=s(615),c=s(579);function d(){const e=(0,r.Zp)(),[t,s]=(0,a.useState)(""),[d,m]=(0,a.useState)("");(0,a.useEffect)((()=>{const e=localStorage.getItem("username");e&&s(e);const t=localStorage.getItem("UserDepartment");t&&m(t)}),[]);const u=(e,t)=>(0,c.jsx)(n.k2,{to:e,className:e=>{let{isActive:t}=e;return"text-decoration-none nav-link"+(t?" active-link":"")},end:!0,"aria-current":"page",children:t});return(0,c.jsxs)("nav",{className:"bg-custom d-flex justify-content-between flex-row-reverse p-3","aria-label":"Primary navigation",children:[(0,c.jsx)("div",{className:"fs-4 fw-bold hlogo",children:(0,c.jsxs)(n.k2,{to:"/dashboard",className:"nav-brand-link",children:["\u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u0646\u062d \u0648\u0627\u0644\u0642\u0631\u0648\u0636",(0,c.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:"0 10px"},children:(0,c.jsx)("img",{src:"/Images/bank.png",className:"logo-shadow-rounded",alt:"",width:"50px",height:"50px"})})]})}),(0,c.jsxs)("ul",{className:"d-flex flex-row-reverse gap-3 list-unstyled mb-0 align-items-center fw-bold",children:[(0,c.jsx)("li",{children:u("/dashboard","\u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629")}),(0,c.jsx)("li",{children:u("/contracts"," \u0627\u0644\u0639\u0642\u0648\u062f")}),(0,c.jsx)("li",{children:u("/Loans"," \u0627\u0644\u0642\u0631\u0648\u0636")}),(0,c.jsx)("li",{children:u("/RevenueList"," \u0627\u0644\u0627\u064a\u0631\u0627\u062f\u0627\u062a")}),(0,c.jsx)("li",{children:u("/AdminPanel","\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646")})]}),(0,c.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,c.jsx)(i.A,{placement:"bottom",overlay:(0,c.jsx)(o.A,{id:"logout-tooltip",children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c"}),children:(0,c.jsxs)("button",{"aria-label":"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c",className:"btn btn-outline-danger logoutB",onClick:async()=>{try{await l.A.post("http://localhost:5109/Auth/logout",{},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),localStorage.removeItem("token"),localStorage.removeItem("roles"),localStorage.removeItem("username"),e("/")}catch(t){console.error("Logout failed:",t),alert("\u0641\u0634\u0644 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c\u060c \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.")}},type:"button",children:[(0,c.jsx)("span",{className:"navbar-username",children:t.toUpperCase()}),(0,c.jsx)("img",{className:"PowImg",src:"/Images/power.gif",alt:"Power GIF",style:{borderRadius:"50%"},width:"20",height:"20"})]})}),(0,c.jsx)("h6",{className:"headingDep",children:d||"\u0644\u0627 \u064a\u0648\u062c\u062f \u0642\u0633\u0645"}),(0,c.jsx)("span",{className:"navbar-username",children:(0,c.jsx)(n.k2,{to:"/ChangePassword",className:"nav-brand-link",children:"\u062a\u063a\u064a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"})})]})]})}}}]);
//# sourceMappingURL=903.432a77d6.chunk.js.map